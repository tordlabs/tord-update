import{u as Ue,b as Fe,a as Je,r as u,j as e,R as Ye,i as Ge,k as He,A as Ke,h as Xe,V as he}from"./index-DueDyOkR.js";import{f as ce,C as fe,p as qe,J as be,B as oe}from"./provider-browser-B9Lhcak6.js";import{W as ze}from"./wallet-button-DDkbuire.js";import{W as Qe}from"./wallet-change-modal-D38eVk9_.js";import{L as _}from"./loader-circle-CqyfVB-u.js";const Ze="0xA719e7b6BC807595c425F0071BD69099189c7777",me=["https://bsc-dataseed.binance.org/","https://bsc-dataseed1.defibit.io/","https://bsc-dataseed1.ninicoin.io/","https://bsc.publicnode.com"],et=["function balanceOf(address owner) view returns (uint256)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)","function symbol() view returns (string)"],tt=["function poolLength() view returns (uint256)","function getTotalStaked() view returns (uint256)","function getUserInfo(uint256 _pid, address _user) view returns (uint256 amount, uint256 unlockTime, uint256 pendingRewards)","function pendingReward(uint256 _pid, address _user) view returns (uint256)","function rewardsRemaining() view returns (uint256)","function maxRewardPerc() view returns (uint256)","function totalRewardsClaimed(uint256 _pid, address _user) view returns (uint256)","function paused() view returns (bool)","function blacklisted(address) view returns (bool)","function owedTokens(address) view returns (uint256)","function getAllPoolAPYs() view returns (uint256[] apys, uint256[] lockDurations, uint256[] totalStakeds)","function getAllPoolSettings() view returns (uint256[] penalties, bool[] actives, uint256[] minStakes)","function getPoolName(uint256 _pid) view returns (string)","function deposit(uint256 _pid, uint256 _amount)","function withdraw(uint256 _pid)","function claimReward(uint256 _pid)","function claimAllRewards()","function compound(uint256 _pid)","function emergencyWithdraw(uint256 _pid)","function claimOwed()"];let W=null,le=0;function nt(){return W||(W=new be(me[0]),W)}function rt(){return le=(le+1)%me.length,W=new be(me[le]),W}function V(s,y){return new fe(s,tt,y)}function H(s){return new fe(Ze,et,s)}function B(s,y=18){const L=ce(s,y),l=parseFloat(L);return l===0?"0":l<.01?"<0.01":l>=1e6?(l/1e6).toFixed(2)+"M":l>=1e3?l.toLocaleString(void 0,{maximumFractionDigits:2}):l.toFixed(2)}function st(s,y=18){try{return qe(s,y)}catch{return BigInt(0)}}const K=["from-primary to-yellow-600","from-purple-500 to-blue-500","from-cyan-400 to-emerald-500","from-pink-500 to-orange-500","from-indigo-500 to-purple-500"];function ht(){const{t:s}=Ue(),{data:y}=Fe(),L=y?.tord_contract,l=y?.staking_contract,{address:a,connect:Ne,disconnect:xe,provider:x,pendingWallet:ke,approvePendingWallet:we,rejectPendingWallet:ve}=Je(),[at,te]=u.useState("");u.useEffect(()=>{te(a)},[a]);const[ye,E]=u.useState(!1),De=async t=>{await Ne(t)&&E(!1)},Ee=async()=>{xe(),E(!1)},[N,je]=u.useState(0),[ue,ne]=u.useState(""),[j,Se]=u.useState([]),[M,re]=u.useState({}),[I,U]=u.useState(BigInt(0)),[de,X]=u.useState(BigInt(0)),[C,se]=u.useState(BigInt(0)),[it,Ve]=u.useState(BigInt(0)),[ot,ae]=u.useState(BigInt(0)),[lt,ct]=u.useState(!1),[F,Be]=u.useState(0),[h,f]=u.useState(""),[k,m]=u.useState("");u.useRef(null);const Ie=window.self!==window.top;u.useEffect(()=>{const t=()=>{fetch("/api/tord-info").then(r=>r.json()).then(r=>{r.price>0&&Be(r.price)}).catch(()=>{})};t();const n=setInterval(t,3e4);return()=>clearInterval(n)},[]);const q=t=>{if(!F||F<=0)return"";const n=Number(ce(t,18))*F;return n<.01?"":n>=1e6?`$${(n/1e6).toFixed(2)}M`:n>=1e3?`$${(n/1e3).toFixed(2)}K`:`$${n.toFixed(2)}`},Ce=t=>{if(t<.001){const n=t.toFixed(10),r=n.match(/^0\.(0+)/);if(r){const o=r[1].length,p=n.slice(o+2,o+6).replace(/0+$/,"")||"0",b={0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉"},c=String(o).split("").map(i=>b[i]||i).join("");return e.jsxDEV("span",{children:["$0.0",c,p]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:103,columnNumber:16},this)}}return t<1?e.jsxDEV("span",{children:["$",t.toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:106,columnNumber:23},this):e.jsxDEV("span",{children:["$",t.toFixed(2)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:107,columnNumber:12},this)};u.useEffect(()=>{let t=!0;const n=x;if(!n)return;const r=p=>{t&&(!p||p.length===0?(te(""),U(BigInt(0)),X(BigInt(0)),re({}),ae(BigInt(0)),se(BigInt(0))):a&&(U(BigInt(0)),X(BigInt(0)),re({}),ae(BigInt(0)),se(BigInt(0)),te(p[0])))},o=()=>{window.location.reload()};return n.on?.("accountsChanged",r),n.on?.("chainChanged",o),()=>{t=!1,n.removeListener?.("accountsChanged",r),n.removeListener?.("chainChanged",o)}},[a,x]);const w=u.useCallback(async()=>{if(!l)return;const t=async(c,i=3)=>{for(let g=0;g<i;g++)try{const v=g===0?nt():rt();return await c(v)}catch(v){if(g===i-1)throw v}throw new Error("All retries failed")},n=async()=>{try{return await t(async c=>{const i=V(l,c),[g,v,ee,S]=await Promise.all([i.getAllPoolAPYs(),i.getAllPoolSettings(),i.rewardsRemaining(),i.poolLength()]),Y=await Promise.all(Array.from({length:Number(S)},(d,G)=>i.getPoolName(G))),D=[];for(let d=0;d<Number(S);d++)D.push({pid:d,name:Y[d],apy:Number(g.apys[d]),lockDuration:Number(g.lockDurations[d]),penalty:Number(v.penalties[d]),totalStaked:g.totalStakeds[d],isActive:v.actives[d],maxPoolStake:BigInt(0),maxUserStake:BigInt(0),minStake:v.minStakes[d],gradient:K[d%K.length]});return Se(D),Ve(ee),D})}catch(c){return console.error("Pool data load error:",c),j}},r=async()=>{if(a){try{const i=await(await fetch(`/api/staking/tord-balance/${a}`)).json();if(i.balance&&i.balance!=="0"){U(BigInt(i.balance));return}}catch{}try{const c=await t(async i=>await H(i).balanceOf(a));c&&U(c);return}catch{}if(x)try{const c=new oe(x),g=await H(c).balanceOf(a);g&&U(g)}catch{}}},o=async()=>{if(a){try{const c=await t(async i=>await H(i).allowance(a,l));c!==null&&X(c);return}catch{}if(x)try{const c=new oe(x),g=await H(c).allowance(a,l);g!==null&&X(g)}catch{}}},p=async c=>{if(!(!a||c.length===0))try{await t(async i=>{const g=V(l,i),v=c.map(d=>d.pid),ee=[g.owedTokens(a)];for(const d of v)ee.push(g.getUserInfo(d,a));const S=await Promise.all(ee);ae(S[0]);const Y={};v.forEach((d,G)=>{Y[d]={amount:S[G+1][0],unlockTime:S[G+1][1],pending:S[G+1][2]}}),re(Y);let D=BigInt(0);for(const d of Object.values(Y))D+=d.amount;if(se(D),D>BigInt(0)){const d=Number(D)/1e18;try{fetch("/api/staking/register-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:a,stakedBalance:d})})}catch{}}})}catch(i){console.error("User staking data error:",i)}},b=await n();await Promise.all([r(),o(),p(b)])},[l,a,x]);u.useEffect(()=>{w();const t=setInterval(w,15e3);return()=>clearInterval(t)},[w]);const T=async()=>{if(!x)throw new Error("No wallet found");try{await x.request({method:"wallet_switchEthereumChain",params:[{chainId:he}]})}catch(t){(t.code===4902||t.code===-32603)&&await x.request({method:"wallet_addEthereumChain",params:[{chainId:he,chainName:"BNB Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]}]})}},A=()=>x?new oe(x):null,Te=async()=>{await Ee(),E(!1)},P=t=>{console.error("TX error:",t),m(""),f("")},Ae=async()=>{if(!a){E(!0);return}if(!l){m("Staking contract not configured");return}f("approve"),m("");try{await T();const t=A();if(!t)throw new Error("No wallet");const n=await t.getSigner(),r=H(n),o=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),p=await r.approve(l,o);m("Approving... waiting for confirmation"),await p.wait(),m("Approved successfully!"),f(""),w()}catch(t){P(t)}},Pe=async()=>{if(!a){E(!0);return}if(!l){m("Staking contract not configured");return}const t=ue.trim();if(!t||parseFloat(t)<=0)return;const n=M[N];if(n&&n.amount>BigInt(0)){m("You already have a stake in this pool. Withdraw first before staking again.");return}f("stake"),m("");try{await T();const r=A();if(!r)throw new Error("No wallet");const o=await r.getSigner(),p=V(l,o),b=st(t);if(b<=BigInt(0)){f("");return}if(b>I){m("Insufficient TORD balance"),f("");return}if(de<b){m("Please approve first"),f("");return}const c=await p.deposit(N,b);m("Staking... waiting for confirmation"),await c.wait(),m("Staked successfully!"),ne(""),f("");const i=Number(C+b)/1e18;try{fetch("/api/staking/register-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:a,stakedBalance:i})})}catch{}w()}catch(r){P(r)}},Re=async()=>{if(!(!a||!l)){f("withdraw"),m("");try{await T();const t=A();if(!t)throw new Error("No wallet");const n=await t.getSigner(),o=await V(l,n).withdraw(N);m("Withdrawing... waiting for confirmation"),await o.wait(),m("Withdrawn + rewards claimed!"),f("");const p=M[N]?.amount||BigInt(0),b=Number(C-p)/1e18;try{fetch("/api/staking/register-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:a,stakedBalance:Math.max(0,b)})})}catch{}w()}catch(t){P(t)}}},$e=async()=>{if(!(!a||!l)){f("claim"),m("");try{await T();const t=A();if(!t)throw new Error("No wallet");const n=await t.getSigner(),o=await V(l,n).claimReward(N);m("Claiming... waiting for confirmation"),await o.wait(),m("Rewards claimed!"),f(""),w()}catch(t){P(t)}}},Oe=async()=>{if(!(!a||!l)){f("compound"),m("");try{await T();const t=A();if(!t)throw new Error("No wallet");const n=await t.getSigner(),o=await V(l,n).compound(N);m("Compounding... waiting for confirmation"),await o.wait(),m("Compounded successfully!"),f(""),w()}catch(t){P(t)}}},_e=async()=>{if(!a||!l)return;const n=j[N]?.penalty||10;if(confirm(`Emergency withdraw will apply a ${n}% penalty. Your rewards will be forfeited. Continue?`)){f("emergency"),m("");try{await T();const r=A();if(!r)throw new Error("No wallet");const o=await r.getSigner(),b=await V(l,o).emergencyWithdraw(N);m("Emergency withdrawing..."),await b.wait(),m("Emergency withdrawn (penalty applied)"),f("");const c=M[N]?.amount||BigInt(0),i=Number(C-c)/1e18;try{fetch("/api/staking/register-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:a,stakedBalance:Math.max(0,i)})})}catch{}w()}catch(r){P(r)}}},R=j[N],z=M[N],$=z?.amount||BigInt(0),J=z?.pending||BigInt(0),ie=z?.unlockTime?Number(z.unlockTime):0,[Q,We]=u.useState(Math.floor(Date.now()/1e3));u.useEffect(()=>{const t=setInterval(()=>We(Math.floor(Date.now()/1e3)),1e3);return()=>clearInterval(t)},[]);const O=ie>0&&ie>Q,Le=O?ie-Q:0,pe=t=>{if(t<=0)return"0";const n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),p=t%60;return n>0?`${n}d ${r}h ${o}m`:r>0?`${r}h ${o}m ${p}s`:`${o}m ${p}s`},Me=pe(Le),ge=de>BigInt(0),Z=j.length>0?j:[{pid:0,name:"Flexible",apy:70,lockDuration:0,penalty:10,totalStaked:BigInt(0),isActive:!0,gradient:K[0],minStake:BigInt(0)},{pid:1,name:"7 Days",apy:120,lockDuration:604800,penalty:10,totalStaked:BigInt(0),isActive:!0,gradient:K[1],minStake:BigInt(0)},{pid:2,name:"15 Days",apy:200,lockDuration:1296e3,penalty:10,totalStaked:BigInt(0),isActive:!0,gradient:K[2],minStake:BigInt(0)}];return e.jsxDEV("div",{className:`min-h-screen bg-background text-foreground ${Ie?"":"p-4 md:p-8"}`,children:[e.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxDEV("h2",{className:"font-display text-xl sm:text-2xl font-bold text-white break-words min-w-0",children:[s("dashboard.staking.title")," ",e.jsxDEV("span",{className:"text-primary",children:s("dashboard.staking.titleHighlight")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:525,columnNumber:44},this)," ",s("dashboard.staking.titleEnd")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:524,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ze,{address:a,onConnect:()=>E(!0),onDisconnect:Te,variant:"primary",connectLabel:"Connect Wallet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:528,columnNumber:13},this),e.jsxDEV("button",{onClick:w,className:"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",title:"Refresh",children:e.jsxDEV(Ye,{className:"h-3.5 w-3.5 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:530,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:529,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:527,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:523,columnNumber:9},this),j.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxDEV("div",{className:"rounded-xl bg-white/5 border border-white/10 p-3 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:"Total Staked"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:538,columnNumber:15},this),e.jsxDEV("span",{className:"text-lg font-display font-bold text-white",children:B(C)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:539,columnNumber:15},this),e.jsxDEV("span",{className:"text-[10px] text-muted-foreground ml-1",children:"TORD"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:540,columnNumber:15},this),q(C)&&e.jsxDEV("span",{className:"block text-[10px] text-primary mt-0.5",children:q(C)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:541,columnNumber:38},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:537,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-xl bg-white/5 border border-white/10 p-3 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:"Price TORD"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:544,columnNumber:15},this),e.jsxDEV("span",{className:"text-lg font-display font-bold text-emerald-400",children:F>0?Ce(F):"..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:545,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:543,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-xl bg-white/5 border border-white/10 p-3 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:"Your Balance"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:548,columnNumber:15},this),e.jsxDEV("span",{className:"text-lg font-display font-bold text-white",children:B(I)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:549,columnNumber:15},this),e.jsxDEV("span",{className:"text-[10px] text-muted-foreground ml-1",children:"TORD"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:550,columnNumber:15},this),q(I)&&e.jsxDEV("span",{className:"block text-[10px] text-primary mt-0.5",children:q(I)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:551,columnNumber:38},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:547,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-xl bg-white/5 border border-white/10 p-3 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:"Pools"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:554,columnNumber:15},this),e.jsxDEV("span",{className:"text-lg font-display font-bold text-white",children:j.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:555,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:553,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:536,columnNumber:11},this),e.jsxDEV(Ge,{isOpen:ye&&!a,onClose:()=>E(!1),onConnect:De},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:561,columnNumber:9},this),e.jsxDEV(Qe,{pendingWallet:ke,currentWallet:a,onApprove:we,onReject:ve},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:566,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Z.map(t=>{const n=M[t.pid],r=n?.unlockTime?Number(n.unlockTime):0,o=r>0&&r>Q,p=o?r-Q:0,b=a&&n?.amount>BigInt(0);return e.jsxDEV("button",{onClick:()=>je(t.pid),className:`relative rounded-xl p-4 text-left transition-all overflow-hidden ${N===t.pid?"border-2 border-primary ring-1 ring-primary/30":"border border-white/10 hover:border-white/20"}`,children:[e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br ${t.gradient} opacity-10`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:585,columnNumber:17},this),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(He,{className:"h-4 w-4 text-white/70"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:588,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-bold text-white",children:t.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:589,columnNumber:21},this),t.lockDuration>0&&e.jsxDEV("span",{className:"ml-auto text-[10px] bg-white/10 text-muted-foreground px-1.5 py-0.5 rounded",children:[Math.round(t.lockDuration/86400),"d"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:591,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:587,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-baseline gap-1",children:[e.jsxDEV("span",{className:`text-2xl font-display font-bold bg-gradient-to-r ${t.gradient} bg-clip-text text-transparent`,children:[t.apy,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:595,columnNumber:21},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"APY"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:598,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:594,columnNumber:19},this),b&&e.jsxDEV("div",{className:"mt-2 text-[10px] text-green-400",children:["Your Stake: ",B(n.amount)," TORD"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:601,columnNumber:21},this),b&&e.jsxDEV("div",{className:"mt-1 text-[10px]",children:t.lockDuration===0?e.jsxDEV("span",{className:"text-green-400",children:"No Lock"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:608,columnNumber:25},this):o?e.jsxDEV("span",{className:"text-yellow-400",children:["Unlocks in ",pe(p)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:610,columnNumber:25},this):e.jsxDEV("span",{className:"text-green-400",children:"Unlocked"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:612,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:606,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:586,columnNumber:17},this)]},t.pid,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:576,columnNumber:15},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:568,columnNumber:9},this),e.jsxDEV("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 space-y-5 glass-card",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxDEV("div",{className:"rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20 p-4 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:s("dashboard.staking.apy")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:625,columnNumber:15},this),e.jsxDEV("span",{className:"text-2xl font-display font-bold text-primary",children:[R?.apy||Z[N]?.apy||0,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:626,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:624,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:s("dashboard.staking.yourStake")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:629,columnNumber:15},this),e.jsxDEV("span",{className:"text-2xl font-display font-bold text-white",children:B($)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:630,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:628,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:s("dashboard.staking.pendingRewards")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:633,columnNumber:15},this),e.jsxDEV("span",{className:"text-2xl font-display font-bold text-emerald-400",children:B(J)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:634,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:632,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4 text-center",children:[e.jsxDEV("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider block mb-1",children:"Unlock Countdown"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:637,columnNumber:15},this),e.jsxDEV("span",{className:`text-2xl font-display font-bold ${O?"text-yellow-400":"text-white"}`,children:(R?.lockDuration??Z[N]?.lockDuration??0)===0?"No Lock":!a||$<=BigInt(0)?`${Math.round((R?.lockDuration||Z[N]?.lockDuration||0)/86400)}d`:O?Me:"Unlocked"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:638,columnNumber:15},this),O&&e.jsxDEV("span",{className:"text-[10px] text-yellow-400 block mt-1",children:"Locked"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:647,columnNumber:28},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:636,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:623,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm text-muted-foreground block mb-2",children:s("dashboard.staking.amountToStake")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:652,columnNumber:13},this),e.jsxDEV("div",{className:"relative",children:e.jsxDEV("input",{type:"text",value:ue,onChange:t=>{const n=t.target.value;(n===""||/^\d*\.?\d*$/.test(n))&&ne(n)},placeholder:s("dashboard.staking.enterAmount"),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder:text-muted-foreground focus:outline-none focus:border-primary/50 transition-colors pr-24"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:654,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:653,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[s("dashboard.staking.balance"),": ",B(I)," TORD"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:666,columnNumber:15},this),e.jsxDEV("button",{className:"text-xs text-primary font-bold hover:underline",onClick:()=>{ne(ce(I,18))},children:"MAX"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:667,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:665,columnNumber:13},this),R?.minStake&&R.minStake>BigInt(0)&&e.jsxDEV("span",{className:"text-[10px] text-yellow-400 mt-1 block",children:["Min stake: ",B(R.minStake)," TORD"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:672,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:651,columnNumber:11},this),k&&e.jsxDEV("div",{className:`text-xs px-3 py-2 rounded-lg ${k.includes("failed")||k.includes("error")||k.includes("Insufficient")||k.includes("Please approve")?"bg-red-500/10 text-red-400 border border-red-500/20":k.includes("success")||k.includes("claimed")||k.includes("Approved")||k.includes("Withdrawn")?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:k},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:677,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("button",{onClick:Ae,disabled:!!h,className:`py-3 rounded-xl font-bold text-sm text-white transition-opacity ${ge?"bg-green-600/50 border border-green-500/30":"bg-gradient-to-r from-primary to-yellow-600 hover:opacity-90"} ${h?"opacity-50 cursor-not-allowed":""}`,children:h==="approve"?e.jsxDEV(_,{className:"h-4 w-4 animate-spin mx-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:688,columnNumber:40},this):ge?"Approved ✓":s("dashboard.staking.approve")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:683,columnNumber:13},this),e.jsxDEV("button",{onClick:Pe,disabled:!!h,className:`py-3 rounded-xl font-bold text-sm text-white bg-gradient-to-r from-purple-500 to-cyan-400 hover:opacity-90 transition-opacity ${h?"opacity-50 cursor-not-allowed":""}`,children:h==="stake"?e.jsxDEV(_,{className:"h-4 w-4 animate-spin mx-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:695,columnNumber:38},this):s("dashboard.staking.stake")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:690,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:682,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:622,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("button",{onClick:Re,disabled:!!h||$<=BigInt(0)||O,className:`py-3 rounded-xl font-bold text-sm text-white border border-emerald-500/30 bg-gradient-to-r from-emerald-600/20 to-cyan-600/20 hover:from-emerald-600/30 hover:to-cyan-600/30 transition-all ${h||$<=BigInt(0)||O?"opacity-50 cursor-not-allowed":""}`,children:h==="withdraw"?e.jsxDEV(_,{className:"h-4 w-4 animate-spin mx-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:706,columnNumber:39},this):s("dashboard.staking.withdrawRewards")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:701,columnNumber:11},this),e.jsxDEV("button",{onClick:_e,disabled:!!h||$<=BigInt(0),className:`py-3 rounded-xl font-bold text-sm text-white border border-red-500/30 bg-gradient-to-r from-red-600/20 to-red-500/20 hover:from-red-600/30 hover:to-red-500/30 transition-all ${h||$<=BigInt(0)?"opacity-50 cursor-not-allowed":""}`,children:h==="emergency"?e.jsxDEV(_,{className:"h-4 w-4 animate-spin mx-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:713,columnNumber:40},this):s("dashboard.staking.emergency")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:708,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:700,columnNumber:9},this),e.jsxDEV("p",{className:"text-[10px] text-muted-foreground -mt-3",children:s("dashboard.staking.emergencyNote")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:716,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("button",{onClick:$e,disabled:!!h||J<=BigInt(0),className:`py-3 rounded-xl font-bold text-sm text-white border border-primary/30 bg-gradient-to-r from-primary/20 to-yellow-600/20 hover:from-primary/30 hover:to-yellow-600/30 transition-all ${h||J<=BigInt(0)?"opacity-50 cursor-not-allowed":""}`,children:h==="claim"?e.jsxDEV(_,{className:"h-4 w-4 animate-spin mx-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:724,columnNumber:36},this):"Claim Rewards"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:719,columnNumber:11},this),e.jsxDEV("button",{onClick:Oe,disabled:!!h||J<=BigInt(0),className:`py-3 rounded-xl font-bold text-sm text-white border border-purple-500/30 bg-gradient-to-r from-purple-600/20 to-blue-600/20 hover:from-purple-600/30 hover:to-blue-600/30 transition-all ${h||J<=BigInt(0)?"opacity-50 cursor-not-allowed":""}`,children:h==="compound"?e.jsxDEV(_,{className:"h-4 w-4 animate-spin mx-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:731,columnNumber:39},this):"Compound"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:726,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:718,columnNumber:9},this),L&&e.jsxDEV("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 space-y-3 glass-card",children:[e.jsxDEV("h3",{className:"font-display text-lg font-bold text-white mb-2",children:s("dashboard.staking.contractInfo")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:738,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground block mb-1",children:s("dashboard.staking.tordTokenContract")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:740,columnNumber:15},this),e.jsxDEV("a",{href:`https://bscscan.com/address/${L}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-mono text-primary hover:underline break-all",children:L},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:741,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:739,columnNumber:13},this),e.jsxDEV("a",{href:"https://flap.sh/bnb/0xa719e7b6bc807595c425f0071bd69099189c7777",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-primary to-yellow-500 text-black font-bold text-sm hover:opacity-90 transition-opacity",children:["Get TORD ",e.jsxDEV(Ke,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:749,columnNumber:24},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:743,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:737,columnNumber:11},this),e.jsxDEV("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 glass-card",children:[e.jsxDEV("h3",{className:"font-display text-lg font-bold text-primary mb-4",children:s("dashboard.staking.howToStake")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:755,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[s("dashboard.staking.howToStakeSteps.0"),s("dashboard.staking.howToStakeSteps.1"),s("dashboard.staking.howToStakeSteps.2"),s("dashboard.staking.howToStakeSteps.3"),s("dashboard.staking.howToStakeSteps.4")].map((t,n)=>e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-bold flex items-center justify-center shrink-0 mt-0.5",children:n+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:765,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:t},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:768,columnNumber:17},this)]},n,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:764,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:756,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:754,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:522,columnNumber:7},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:774,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/staking.tsx",lineNumber:521,columnNumber:5},this)}export{ht as default};
