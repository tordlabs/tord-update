import{c as me,v as As,r as n,j as e,k as Rs,t as ns,g as is,W as Us,R as Ts,Z as oe,M as Fs,X as Se,d as ls,h as Bs,S as zs,m as Gs,n as Os}from"./index-DueDyOkR.js";import{I as os}from"./input-wXOMXvKd.js";import{L as z}from"./loader-circle-CqyfVB-u.js";import{S as _s}from"./settings-Dpv6GGb6.js";import{P as qs}from"./plus-DRkxGwQZ.js";import{I as ms}from"./image-kP_N_MBQ.js";import{L as Ws}from"./log-out-DyIg0tys.js";import{D as Ks}from"./download-DQoSx45h.js";import{M as Hs,r as Xs,h as Js,o as Ys}from"./one-dark-DOkqSdkD.js";const Zs=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qs=me("chevron-left",Zs);const et=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],st=me("crown",et);const tt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],rt=me("ellipsis",tt);const at=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],G=me("paperclip",at),nt=[],it=[{id:"google/gemini-3-pro-image-preview",name:"Nano Banana Pro (Gemini 3 Pro)",price:"~$0.13/img",desc:"Most advanced, 2K/4K, text rendering, multi-subject"},{id:"google/gemini-2.5-flash-image",name:"Gemini 2.5 Flash (Nano Banana)",price:"~$0.04/img",desc:"Fast, contextual editing, multi-turn"},{id:"openai/gpt-5-image",name:"GPT-5 Image",price:"~$0.08/img",desc:"GPT-5 reasoning + image gen & editing"},{id:"openai/gpt-5-image-mini",name:"GPT-5 Image Mini",price:"~$0.03/img",desc:"Efficient, lower latency & cost"},{id:"bytedance-seed/seedream-4.5",name:"Seedream 4.5",price:"$0.04/img",desc:"Portrait refinement, text rendering, multi-image"},{id:"black-forest-labs/flux.2-max",name:"FLUX.2 Max",price:"~$0.07/img",desc:"Top-tier quality, prompt understanding"},{id:"black-forest-labs/flux.2-klein-4b",name:"FLUX.2 Klein 4B",price:"$0.014/img",desc:"Fastest FLUX, cost-effective"},{id:"sourceful/riverflow-v2-pro",name:"Riverflow V2 Pro",price:"$0.15/img",desc:"Best control, perfect text, 4K support"},{id:"sourceful/riverflow-v2-max-preview",name:"Riverflow V2 Max Preview",price:"$0.075/img",desc:"Unified text-to-image & image-to-image"},{id:"sourceful/riverflow-v2-standard-preview",name:"Riverflow V2 Standard",price:"$0.035/img",desc:"Balanced quality & speed"},{id:"sourceful/riverflow-v2-fast-preview",name:"Riverflow V2 Fast Preview",price:"$0.03/img",desc:"Fast preview variant"},{id:"sourceful/riverflow-v2-fast",name:"Riverflow V2 Fast",price:"$0.02/img",desc:"Fastest, production-ready"}];function lt({text:ce}){const[u,j]=n.useState(!1);return e.jsxDEV("button",{onClick:()=>{navigator.clipboard.writeText(ce),j(!0),setTimeout(()=>j(!1),2e3)},className:"p-1 rounded hover:bg-white/10 text-gray-500 hover:text-gray-300 transition-colors",title:"Copy code",children:u?e.jsxDEV(Gs,{className:"h-3 w-3 text-green-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:43,columnNumber:17},this):e.jsxDEV(Os,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:43,columnNumber:64},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:34,columnNumber:5},this)}function wt(){const[,ce]=As(),[u,j]=n.useState(()=>localStorage.getItem("admin_token")),[ue,Me]=n.useState(""),[de,$e]=n.useState(""),[Le,pe]=n.useState(""),[Pe,he]=n.useState(!1),[cs,xe]=n.useState(!0),[us,O]=n.useState(!0),[k,_]=n.useState(""),[p,Ae]=n.useState("auto"),[ds,ot]=n.useState("1:1"),[q,ps]=n.useState("1024x1024"),[be,Re]=n.useState("premium"),[Ne,Ue]=n.useState(""),[ge,Te]=n.useState(""),[W,hs]=n.useState(null),[K,fe]=n.useState(!1),[Fe,S]=n.useState(""),[E,M]=n.useState([]),[H,xs]=n.useState(null),[X,we]=n.useState(null),[Be,J]=n.useState(!1),[D,$]=n.useState(null),f=n.useRef(null),ze=n.useRef(null),Ge=n.useRef(null),[ve,Oe]=n.useState([]),[y,Y]=n.useState(null),[b,V]=n.useState([]),[ke,_e]=n.useState(!0),[Z,U]=n.useState(!1),[h,bs]=n.useState([]),[qe,We]=n.useState(!1),[L,Q]=n.useState(""),[ye,Ke]=n.useState("free"),[N,Ns]=n.useState(null),[je,He]=n.useState(!1),[Ee,ee]=n.useState(""),[gs,Xe]=n.useState(0),[fs,se]=n.useState(0);n.useEffect(()=>{u?ws():(O(!1),xe(!1))},[u]),n.useEffect(()=>{u&&(De(),vs(),te())},[u]),n.useEffect(()=>{ze.current?.scrollIntoView({behavior:"smooth"})},[b,K]);async function ws(){O(!0);try{if(!(await fetch("/api/admin/verify",{headers:{Authorization:`Bearer ${u}`}})).ok){localStorage.removeItem("admin_token"),j(null),O(!1),xe(!1);return}}catch{localStorage.removeItem("admin_token"),j(null)}O(!1),xe(!1)}async function vs(){if(!(h.length>0)){We(!0);try{const s=await fetch("/api/admin/models",{headers:{Authorization:`Bearer ${u}`}});if(s.ok){const t=await s.json();bs(t.models||[])}}catch{}We(!1)}}async function te(){He(!0),ee("");try{const s=await fetch("/api/admin/balance",{headers:{Authorization:`Bearer ${u}`}}),t=await s.json();s.ok?t.note?ee(t.note):Ns(t):ee(t.error||`Error ${s.status}`)}catch(s){ee(s.message||"Network error")}He(!1)}async function ks(s){s.preventDefault(),pe(""),he(!0);try{const t=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:ue,password:de})});if(!t.ok){pe("Invalid username or password"),he(!1);return}const a=await t.json();localStorage.setItem("admin_token",a.token),j(a.token),Me(""),$e("")}catch{pe("Connection error")}he(!1)}async function ys(){await fetch("/api/admin/logout",{method:"POST",headers:{Authorization:`Bearer ${u}`}}).catch(()=>{}),localStorage.removeItem("admin_token"),j(null)}async function De(){try{const s=await fetch("/api/admin/image/conversations",{headers:{Authorization:`Bearer ${u}`}});if(s.ok){const t=await s.json();Oe(t.conversations||[])}}catch{}}async function js(s){Y(s),V([]);try{const t=await fetch(`/api/admin/image/conversation/${s}`,{headers:{Authorization:`Bearer ${u}`}});if(t.ok){const i=(await t.json()).messages||[];V(i);const r=[...i].reverse().find(l=>l.role==="assistant"&&l.autoModelId);r?.autoModelId?$(r.autoModelId):$(null)}}catch{}}function Es(){const s=crypto.randomUUID();Y(s),V([]),_(""),M([]),S(""),fe(!1),$(null)}async function Ds(s){try{await fetch(`/api/admin/image/conversation/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${u}`}}),Oe(t=>t.filter(a=>a.conversationId!==s)),y===s&&(Y(null),V([]))}catch{}}const Je=n.useCallback(s=>{const t=s.target.files;!t||t.length===0||Array.from(t).forEach(a=>{const i=new FileReader;i.onload=()=>{M(r=>[...r,{name:a.name,type:a.type,dataUrl:i.result}])},i.readAsDataURL(a)})},[]),Ye=n.useCallback(s=>{const t=s.clipboardData?.items;if(!t)return;let a=!1;for(const i of Array.from(t))if(i.type.startsWith("image/")){a||(s.preventDefault(),a=!0);const r=i.getAsFile();if(!r)continue;const l=new FileReader;l.onload=()=>{M(o=>[...o,{name:r.name||"pasted-image.png",type:r.type,dataUrl:l.result}])},l.readAsDataURL(r)}},[]);function Ve(){for(let s=b.length-1;s>=0;s--)if(b[s].role==="assistant"&&b[s].imageUrl)return b[s].imageUrl;return null}function re(s){return["flux","seedream","riverflow","dall-e","stable-diffusion","image-preview","image-generation","gpt-5-image","gemini-2.5-flash-image","gemini-3-pro-image"].some(a=>s.toLowerCase().includes(a))}function Ze(s){const t=s.toLowerCase();return[/\b(create|write|give|make|generate|suggest|help)\b.{0,15}\b(me|a|some)?\s*(prompt|idea|suggestion|concept|description|text|copy|caption|title|headline|reference|example)\b/,/\b(prompt|idea|suggestion)\b.{0,15}\b(for|to|about)\b/,/\bhow\s+(to|do|can|should)\b/,/\bwhat\s+(is|are|should|would)\b/,/\btips?\b.{0,15}\b(for|to|on|about)\b/].some(o=>o.test(t))?"general":[/\b(generate|create|make|draw|design|paint|sketch)\b.{0,20}\b(image|picture|photo|illustration|art|logo|icon|banner|poster|wallpaper|avatar|portrait|landscape)\b/,/\b(image|picture|photo|illustration)\b.{0,20}\b(of|for|with|showing)\b/,/\b(flux|dall-e|stable.?diffusion|midjourney)\b/].some(o=>o.test(t))?"image":[/\b(write|create|build|implement|code|program|develop|fix|debug|refactor)\b.{0,20}\b(function|class|api|app|script|component|module|code|program|html|css|javascript|typescript|python|react|solidity|smart.?contract|erc.?20|token)\b/,/\b(python|javascript|typescript|solidity|rust|golang|java|c\+\+|html|css|sql|bash|shell)\b.{0,10}\b(code|script|function|program)\b/,/```|<code>|\bsyntax\b|\bcompile\b|\bruntime\b/].some(o=>o.test(t))?"code":[/\b(prove|derive|theorem|proof|induction)\b/,/\b(solve|calculate)\b.{0,20}\b(equation|integral|derivative|matrix|polynomial|limit)\b/,/\b(step.?by.?step|chain.?of.?thought)\b.{0,15}\b(math|logic|proof|solution)\b/,/\b(formal.?logic|boolean.?algebra|truth.?table|syllogism)\b/,/\b\d+\s*[\+\-\*\/\^]\s*\d+.*=\s*\?/].some(o=>o.test(t))?"reasoning":"general"}function Qe(s){const t=h.filter(r=>r.isFree),a=h.filter(r=>!r.isFree),i=(r,l)=>{for(const o of r){const w=l.find(d=>d.id.toLowerCase().includes(o));if(w)return w.id}return null};switch(s){case"image":return be==="free"?i(["flux-1-schnell","stable-diffusion","playground-v2"],t)||i(["gemini-2.5-flash-image","gpt-5-image-mini"],a)||"google/gemini-2.5-flash-image":i(["gemini-2.5-flash-image","gpt-5-image-mini","gemini-3-pro-image","gpt-5-image"],a)||"google/gemini-2.5-flash-image";case"code":return i(["qwen3-coder","nemotron-3-nano-30b","mistral-small-3.1","llama-3.3-70b"],t)||"nvidia/nemotron-3-nano-30b-a3b:free";case"reasoning":return i(["deepseek-r1-0528","hermes-3-llama-3.1-405b","nemotron-3-nano-30b"],t)||"deepseek/deepseek-r1-0528:free";case"general":return i(["nemotron-3-nano-30b","step-3.5-flash","mistral-small-3.1","llama-3.3-70b","gemma-3-27b"],t)||"nvidia/nemotron-3-nano-30b-a3b:free"}}async function T(){if(!k.trim()||K)return;const s=k.trim(),t=!!Ve(),a=Ze(s),i=t?"image":a,r=p==="auto"?Qe(i):p,l=re(r)||i==="image",o=t||b.length>0&&D&&re(D);if(l&&!o&&!Be&&!X){we(s),J(!0);return}const w=X||s;we(null),J(!1);let d=y;d||(d=crypto.randomUUID(),Y(d));const ae=b.length===0,Ls=Ve(),Ie=E.filter(c=>c.type.startsWith("image/")),ne=Ie.length>0?Ie[0].dataUrl:null,ie=t?Ls:ne||null,ts=t&&ne?ne:null,rs=t?"image":Ze(w);let x;b.length>0&&D&&p==="auto"?x=D:x=p==="auto"?Qe(rs):p;const F=p==="auto";F&&xs(x);const as=re(x)||rs==="image",Ps={role:"user",prompt:w,sourceImageUrl:ne||null,attachments:E.length>0?[...E]:void 0};V(c=>[...c,Ps]),_(""),M([]),f.current&&(f.current.value=""),fe(!0),S("");try{if(as){let c=q;q==="custom"&&Ne&&ge&&(c=`${Ne}x${ge}`);const A={"512x512":"1:1","1024x1024":"1:1","2048x2048":"1:1","1920x1080":"16:9","1080x1920":"9:16","1024x768":"4:3","768x1024":"3:4"}[c]||ds,g={crypto:"cryptocurrency themed, digital coins, blockchain aesthetic, dark background with gold/blue accents",blockchain:"blockchain technology themed, nodes and connections, distributed network visualization, tech aesthetic",elegance:"elegant and luxurious, refined design, gold accents, sophisticated composition, high-end feel",professional:"professional corporate style, clean design, business aesthetic, polished and modern",futuristic:"futuristic sci-fi style, advanced technology, holographic elements, glowing interfaces",minimalist:"minimalist design, clean lines, simple shapes, lots of whitespace, modern and understated",neon:"neon glow aesthetic, vibrant glowing colors, dark background, electric and vivid lighting","dark-luxury":"dark luxury aesthetic, black and gold, premium feel, exclusive and opulent design",cyberpunk:"cyberpunk style, neon lights, rain-soaked streets, dystopian tech aesthetic, high contrast",nature:"nature inspired, organic shapes, earthy colors, natural elements, green and serene"};let v=w;if(W&&g[W]&&(v+=`. Style: ${g[W]}`),c&&c!=="1024x1024"){const[le,Ce]=c.split("x");v+=`. Output image must be exactly ${le}Ã—${Ce} pixels.`}const m={prompt:v,model:x,aspectRatio:A,imageSize:c,conversationId:d};ie&&(m.sourceImage=ie),ts&&(m.referenceImage=ts),ae&&(m.title=w.substring(0,80));const R=await fetch("/api/admin/image/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(m)}),I=await R.json();if(!R.ok)throw new Error(I.error||"Failed");if(I.images?.length>0){const le=I.model||x;$(le);const Ce={role:"assistant",prompt:I.text||"Image generated successfully.",imageUrl:I.images[0],autoModelId:F?le:null,autoIntent:F?a:null};V(C=>[...C,Ce]),ae&&De(),I.usage?.total_cost!=null?(Xe(C=>C+I.usage.total_cost),se(C=>C+1)):se(C=>C+1),te()}else S("No images returned. Try a different prompt or model.")}else{const c={prompt:w,model:x,conversationId:d},P=Ie.map(m=>m.dataUrl);P.length>0?c.sourceImages=P:ie&&(c.sourceImage=ie),ae&&(c.title=w.substring(0,80));const A=await fetch("/api/admin/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(c)}),g=await A.json();if(!A.ok)throw new Error(g.error||`Request failed (${A.status})`);const v=g.model||x;$(v);const B={role:"assistant",prompt:g.text||g.error||"No response.",autoModelId:F?v:null,autoIntent:F?a:null};V(m=>[...m,B]),ae&&De(),g.usage?.total_cost!=null?(Xe(m=>m+g.usage.total_cost),se(m=>m+1)):se(m=>m+1),te()}}catch(c){const P=c.message||"Request failed";if(/rate.?limit|429|too many|quota|exceeded|capacity/i.test(P))if($(null),as){const v=[{id:"google/gemini-2.5-flash-image",name:"Gemini 2.5 Flash"},{id:"openai/gpt-5-image-mini",name:"GPT-5 Image Mini"},{id:"google/gemini-3-pro-image-preview",name:"Gemini 3 Pro"},{id:"openai/gpt-5-image",name:"GPT-5 Image"}].filter(m=>m.id!==x),B=`Model "${x.split("/").pop()?.replace(":free","")}" hit its rate limit. Try one of these:
${v.map(m=>`â€¢ ${m.name}`).join(`
`)}`;S(B)}else{const v=[{id:"nvidia/nemotron-3-nano-30b-a3b:free",name:"Nemotron 3 Nano"},{id:"deepseek/deepseek-r1-0528:free",name:"DeepSeek R1"},{id:"qwen/qwen3-coder:free",name:"Qwen3 Coder"},{id:"mistralai/mistral-small-3.1-24b-instruct:free",name:"Mistral Small 3.1"},{id:"meta-llama/llama-3.3-70b-instruct:free",name:"Llama 3.3 70B"},{id:"google/gemma-3-27b-it:free",name:"Gemma 3 27B"}].filter(R=>R.id!==x),m=`Model "${x.split("/").pop()?.replace(":free","")||x}" hit its rate limit. Try one of these:
${v.slice(0,4).map(R=>`â€¢ ${R.name}`).join(`
`)}`;S(m)}else S(P)}fe(!1)}function Vs(s){const t=document.createElement("a");t.href=s,t.download=`tord-image-${Date.now()}.png`,t.click()}function Is(s){const t=s.id.toLowerCase(),a=(s.name||"").toLowerCase(),i=(s.description||"").toLowerCase(),r=[];return(s.supportsImages||["image","flux","seedream","riverflow","dall-e","stable-diffusion"].some(d=>t.includes(d)))&&r.push({label:"Image",color:"text-pink-400 bg-pink-400/10"}),(["claude-4","claude-3.7","claude-3.5-sonnet","gpt-5","gpt-4.1","gpt-4o","gpt-4.5","deepseek-coder","codestral","qwen-2.5-coder","starcoder","deepseek-v3","deepseek-chat","grok-code","cursor","cline"].some(d=>t.includes(d)||a.includes(d))||i.includes("coding")||i.includes("code generation"))&&r.push({label:"Code",color:"text-cyan-400 bg-cyan-400/10"}),(["o4-mini","o3","o1","deepseek-r1","qwq","r1","gemini-2.5-pro","gemini-3","claude-4","claude-3.7","gpt-5","grok-4","grok-3"].some(d=>t.includes(d))||i.includes("reasoning")||i.includes("think"))&&r.push({label:"Reasoning",color:"text-yellow-400 bg-yellow-400/10"}),["gemini-2.5-flash","gpt-4o","gpt-4.1","claude-3.5-sonnet","claude-4","llama-4","llama-3.3","mistral-large","command-r","grok-3","grok-4","deepseek-v3","deepseek-chat","qwen3","glm-4"].some(d=>t.includes(d))&&r.push({label:"General",color:"text-emerald-400 bg-emerald-400/10"}),r}function es(){const s=h.length>0?h.filter(r=>r.isFree):nt.map(r=>({id:r.id,name:r.name,description:r.desc,priceLabel:r.price,isFree:!0,contextLength:0,pricing:{prompt:0,completion:0,image:0},supportsImages:!1,architecture:{},topProvider:{},createdAt:0})),t=h.length>0?h.filter(r=>!r.isFree):it.map(r=>({id:r.id,name:r.name,description:r.desc,priceLabel:r.price,isFree:!1,contextLength:0,pricing:{prompt:0,completion:0,image:0},supportsImages:!1,architecture:{},topProvider:{},createdAt:0})),a=ye==="free"?s:t,i=L.trim()?a.filter(r=>r.name.toLowerCase().includes(L.toLowerCase())||r.id.toLowerCase().includes(L.toLowerCase())||r.description.toLowerCase().includes(L.toLowerCase())):a;return e.jsxDEV("div",{className:"fixed inset-0 sm:absolute sm:inset-auto sm:bottom-full sm:left-0 sm:mb-2 sm:w-[440px] bg-[#0d1117] border border-white/10 sm:rounded-xl shadow-2xl z-50 flex flex-col sm:max-h-[520px]",children:[e.jsxDEV("div",{className:"p-3 border-b border-white/10 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-white sm:hidden",children:"Select Model"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:686,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1 relative",children:[e.jsxDEV(zs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:688,columnNumber:15},this),e.jsxDEV("input",{value:L,onChange:r=>Q(r.target.value),placeholder:"Search models...",className:"w-full bg-white/5 border border-white/10 rounded-lg pl-8 pr-3 py-1.5 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-yellow-500/50",autoFocus:!0,"data-testid":"input-model-search"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:689,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:687,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>{U(!1),Q("")},className:"p-2 sm:p-1.5 rounded-lg hover:bg-white/10 text-gray-400 sm:text-gray-500","data-testid":"button-close-model-picker",children:e.jsxDEV(Se,{className:"h-5 w-5 sm:h-4 sm:w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:703,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:698,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:685,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>Ke("free"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${ye==="free"?"bg-green-500/15 text-green-400 border border-green-500/30":"text-gray-400 hover:bg-white/5 border border-transparent"}`,"data-testid":"tab-free-models",children:[e.jsxDEV(oe,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:716,columnNumber:15},this),"Free (",s.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:707,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>Ke("premium"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${ye==="premium"?"bg-amber-500/15 text-amber-400 border border-amber-500/30":"text-gray-400 hover:bg-white/5 border border-transparent"}`,"data-testid":"tab-premium-models",children:[e.jsxDEV(st,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:728,columnNumber:15},this),"Premium (",t.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:719,columnNumber:13},this),h.length>0&&e.jsxDEV("span",{className:"ml-auto text-[10px] text-gray-600 self-center",children:[h.length," total"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:732,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:706,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:684,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto py-1 max-h-[calc(100vh-120px)] sm:max-h-[400px]",children:[!L.trim()&&e.jsxDEV("button",{onClick:()=>{Ae("auto"),U(!1),Q("")},className:`w-full text-left px-3 py-2.5 hover:bg-white/5 transition-colors border-b border-white/5 ${p==="auto"?"bg-yellow-500/10 border-l-2 border-l-yellow-500":"border-l-2 border-l-transparent"}`,"data-testid":"model-option-auto",children:e.jsxDEV("div",{className:"flex justify-between items-start gap-2",children:[e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("span",{className:`text-sm font-bold block ${p==="auto"?"text-yellow-400":"text-white"}`,children:"Auto (Smart Router)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:748,columnNumber:19},this),e.jsxDEV("p",{className:"text-[11px] text-gray-400 mt-0.5",children:"Automatically picks the best free model for your task â€” images, code, reasoning, or chat"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:751,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1 mt-1",children:[e.jsxDEV("span",{className:"text-[9px] font-semibold px-1.5 py-0.5 rounded-full text-pink-400 bg-pink-400/10",children:"Image"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:753,columnNumber:21},this),e.jsxDEV("span",{className:"text-[9px] font-semibold px-1.5 py-0.5 rounded-full text-cyan-400 bg-cyan-400/10",children:"Code"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:754,columnNumber:21},this),e.jsxDEV("span",{className:"text-[9px] font-semibold px-1.5 py-0.5 rounded-full text-yellow-400 bg-yellow-400/10",children:"Reasoning"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:755,columnNumber:21},this),e.jsxDEV("span",{className:"text-[9px] font-semibold px-1.5 py-0.5 rounded-full text-emerald-400 bg-emerald-400/10",children:"General"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:756,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:752,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:747,columnNumber:17},this),e.jsxDEV("span",{className:"text-[10px] font-bold shrink-0 px-2 py-0.5 rounded bg-gradient-to-r from-yellow-500/20 to-pink-500/20 text-yellow-300 border border-yellow-500/30",children:"Recommended"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:759,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:746,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:739,columnNumber:13},this),qe&&e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[e.jsxDEV(z,{className:"h-5 w-5 animate-spin text-yellow-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:768,columnNumber:15},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-400",children:"Loading models..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:769,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:767,columnNumber:13},this),!qe&&i.length===0&&e.jsxDEV("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No models found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:774,columnNumber:13},this),i.map(r=>e.jsxDEV("button",{onClick:()=>{Ae(r.id),U(!1),Q("")},className:`w-full text-left px-3 py-2 hover:bg-white/5 transition-colors ${p===r.id?"bg-yellow-500/10 border-l-2 border-yellow-500":"border-l-2 border-transparent"}`,"data-testid":`model-option-${r.id}`,children:e.jsxDEV("div",{className:"flex justify-between items-start gap-2",children:[e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("span",{className:`text-sm font-medium block truncate ${p===r.id?"text-yellow-400":"text-gray-200"}`,children:r.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:788,columnNumber:19},this),r.description&&e.jsxDEV("p",{className:"text-[11px] text-gray-500 mt-0.5 line-clamp-1",children:r.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:792,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:[Is(r).map(l=>e.jsxDEV("span",{className:`text-[9px] font-semibold px-1.5 py-0.5 rounded-full ${l.color}`,children:l.label},l.label,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:796,columnNumber:23},this)),r.contextLength>0&&e.jsxDEV("span",{className:"text-[9px] text-gray-600",children:[(r.contextLength/1e3).toFixed(0),"K ctx"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:801,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:794,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:787,columnNumber:17},this),e.jsxDEV("span",{className:`text-[10px] font-medium shrink-0 px-1.5 py-0.5 rounded ${r.isFree?"text-green-400 bg-green-400/10":"text-amber-400 bg-amber-400/10"}`,children:r.priceLabel},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:805,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:786,columnNumber:15},this)},r.id,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:778,columnNumber:13},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:737,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:683,columnNumber:7},this)}function Cs(s){s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),T())}function Ss(s){const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(a.getTime()-7*864e5),r=[{label:"Today",items:[]},{label:"Previous Week",items:[]},{label:"Older",items:[]}];for(const l of s){const o=new Date(l.createdAt);o>=a?r[0].items.push(l):o>=i?r[1].items.push(l):r[2].items.push(l)}return r.filter(l=>l.items.length>0)}if(us)return e.jsxDEV("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsxDEV(z,{className:"h-8 w-8 animate-spin text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:851,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:850,columnNumber:7},this);if(!u)return e.jsxDEV("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"w-full max-w-md",children:e.jsxDEV("div",{className:"bg-black/60 border border-white/10 rounded-2xl p-8",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-6",children:e.jsxDEV("div",{className:"h-14 w-14 rounded-xl bg-gradient-to-br from-amber-500/20 to-amber-700/20 flex items-center justify-center border border-amber-500/30",children:e.jsxDEV(Rs,{className:"h-7 w-7 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:863,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:862,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:861,columnNumber:13},this),e.jsxDEV("h1",{className:"text-2xl font-bold text-white text-center mb-1","data-testid":"text-admin-title",children:"Admin Panel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:866,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground text-center mb-6",children:"Sign in to manage Tord Labs settings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:867,columnNumber:13},this),e.jsxDEV("form",{onSubmit:ks,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:871,columnNumber:17},this),e.jsxDEV(os,{"data-testid":"input-admin-username",value:ue,onChange:s=>Me(s.target.value),placeholder:"Enter username",className:"bg-white/5 border-white/10 text-white",autoComplete:"username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:872,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:870,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:882,columnNumber:17},this),e.jsxDEV(os,{"data-testid":"input-admin-password",type:"password",value:de,onChange:s=>$e(s.target.value),placeholder:"Enter password",className:"bg-white/5 border-white/10 text-white",autoComplete:"current-password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:883,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:881,columnNumber:15},this),Le&&e.jsxDEV("div",{className:"flex items-center gap-2 text-red-400 text-sm","data-testid":"text-login-error",children:[e.jsxDEV(ns,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:895,columnNumber:19},this),Le]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:894,columnNumber:17},this),e.jsxDEV(is,{"data-testid":"button-admin-login",type:"submit",disabled:Pe||!ue||!de,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-black font-semibold",children:[Pe?e.jsxDEV(z,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:905,columnNumber:33},this):null,"Sign In"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:899,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:869,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:860,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:859,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:858,columnNumber:7},this);if(cs)return e.jsxDEV("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsxDEV(z,{className:"h-8 w-8 animate-spin text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:918,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:917,columnNumber:7},this);const Ms=Ss(ve),$s=ve.find(s=>s.conversationId===y)?.title,ss=!!Ve()&&D?h.find(s=>s.id===D)?.name||D.split("/").pop()?.replace(":free","")||"Model":p==="auto"?"Auto":h.find(s=>s.id===p)?.name||p.split("/").pop()?.replace(":free","")||"Model";return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"h-screen bg-[#0d1117] text-white flex overflow-hidden",children:[ke&&e.jsxDEV("div",{className:"w-72 bg-[#0d1117] border-r border-white/10 flex flex-col h-full shrink-0",children:[e.jsxDEV("div",{className:"p-3 border-b border-white/10",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("img",{src:"/logo.png",alt:"AARON AI",className:"h-7 w-7 rounded-lg object-contain"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:938,columnNumber:19},this),e.jsxDEV("span",{className:"font-semibold text-sm",children:"AARON AI"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:939,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:937,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>ce("/admin1"),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-colors",title:"Platform Settings","data-testid":"button-goto-settings",children:e.jsxDEV(_s,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:947,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:941,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:936,columnNumber:15},this),e.jsxDEV(is,{"data-testid":"button-new-conversation",onClick:Es,className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white text-sm justify-start gap-2 h-9",variant:"ghost",children:[e.jsxDEV(qs,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:956,columnNumber:17},this)," New Chat"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:950,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:935,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto px-2 py-2 space-y-3",children:[Ms.map(s=>e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-[11px] font-medium text-gray-500 uppercase tracking-wider px-2 mb-1",children:s.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:963,columnNumber:19},this),s.items.map(t=>e.jsxDEV("div",{className:`group flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer text-sm transition-colors ${y===t.conversationId?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-gray-200"}`,onClick:()=>js(t.conversationId),"data-testid":`conversation-item-${t.conversationId}`,children:[e.jsxDEV("span",{className:"truncate flex-1",children:t.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:975,columnNumber:23},this),e.jsxDEV("button",{onClick:a=>{a.stopPropagation(),Ds(t.conversationId)},className:"opacity-0 group-hover:opacity-100 p-1 rounded hover:bg-white/10 text-gray-500 hover:text-red-400 transition-all","data-testid":`button-delete-conv-${t.conversationId}`,children:e.jsxDEV(rt,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:984,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:976,columnNumber:23},this)]},t.conversationId,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:965,columnNumber:21},this))]},s.label,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:962,columnNumber:17},this)),ve.length===0&&e.jsxDEV("div",{className:"text-center py-8 text-gray-600",children:[e.jsxDEV(ms,{className:"h-8 w-8 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:993,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs",children:"No conversations yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:994,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:992,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:960,columnNumber:13},this),e.jsxDEV("div",{className:"border-t border-white/10 p-3 space-y-2",children:[e.jsxDEV("div",{className:"bg-white/5 rounded-lg p-2.5 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-300",children:[e.jsxDEV(Us,{className:"h-3.5 w-3.5 text-amber-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1003,columnNumber:21},this),"OpenRouter Balance"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1002,columnNumber:19},this),e.jsxDEV("button",{onClick:te,disabled:je,className:"p-1 rounded hover:bg-white/10 text-gray-500 hover:text-gray-300 transition-colors",title:"Refresh balance","data-testid":"button-refresh-balance",children:e.jsxDEV(Ts,{className:`h-3 w-3 ${je?"animate-spin":""}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1013,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1006,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1001,columnNumber:17},this),N?e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("div",{className:"flex justify-between text-[11px]",children:[e.jsxDEV("span",{className:"text-gray-500",children:"Remaining"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1019,columnNumber:23},this),e.jsxDEV("span",{className:`font-mono font-semibold ${N.remaining>1?"text-green-400":N.remaining>.1?"text-amber-400":"text-red-400"}`,children:["$",N.remaining.toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1020,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1018,columnNumber:21},this),e.jsxDEV("div",{className:"flex justify-between text-[11px]",children:[e.jsxDEV("span",{className:"text-gray-500",children:"Total Used"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1025,columnNumber:23},this),e.jsxDEV("span",{className:"font-mono text-gray-400",children:["$",N.used.toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1026,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1024,columnNumber:21},this),e.jsxDEV("div",{className:"flex justify-between text-[11px]",children:[e.jsxDEV("span",{className:"text-gray-500",children:"Total Credits"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1029,columnNumber:23},this),e.jsxDEV("span",{className:"font-mono text-gray-400",children:["$",N.total.toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1030,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1028,columnNumber:21},this),e.jsxDEV("div",{className:"w-full bg-white/5 rounded-full h-1.5 mt-1",children:e.jsxDEV("div",{className:`h-1.5 rounded-full transition-all ${N.remaining/N.total>.5?"bg-green-500":N.remaining/N.total>.2?"bg-amber-500":"bg-red-500"}`,style:{width:`${Math.max(2,N.remaining/Math.max(N.total,.001)*100)}%`}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1033,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1032,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1017,columnNumber:19},this):e.jsxDEV("div",{className:"text-[11px] text-gray-600",children:je?"Loading...":Ee?e.jsxDEV("span",{className:Ee.includes("unavailable")?"text-amber-400/70":"text-red-400",children:Ee},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1040,columnNumber:110},this):"Click refresh to load"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1040,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1e3,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white/5 rounded-lg p-2.5 space-y-1.5",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-300",children:[e.jsxDEV(oe,{className:"h-3.5 w-3.5 text-yellow-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1046,columnNumber:19},this),"Session Usage"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1045,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between text-[11px]",children:[e.jsxDEV("span",{className:"text-gray-500",children:"Requests"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1050,columnNumber:19},this),e.jsxDEV("span",{className:"font-mono text-gray-300",children:fs},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1051,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1049,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between text-[11px]",children:[e.jsxDEV("span",{className:"text-gray-500",children:"Session Cost"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1054,columnNumber:19},this),e.jsxDEV("span",{className:"font-mono text-amber-400",children:["$",gs.toFixed(6)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1055,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1053,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1044,columnNumber:15},this),e.jsxDEV("button",{onClick:ys,className:"flex items-center gap-2 text-gray-500 hover:text-gray-300 text-sm w-full px-2 py-1.5 rounded-lg hover:bg-white/5 transition-colors","data-testid":"button-admin-logout",children:[e.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1064,columnNumber:17},this),"Logout"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1059,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:999,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:934,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 flex flex-col h-full min-w-0",children:[e.jsxDEV("div",{className:"h-12 border-b border-white/10 flex items-center px-4 shrink-0",children:[!ke&&e.jsxDEV("button",{onClick:()=>_e(!0),className:"mr-3 p-1.5 rounded-lg hover:bg-white/10 text-gray-400","data-testid":"button-open-sidebar",children:e.jsxDEV(Fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1079,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1074,columnNumber:15},this),ke&&e.jsxDEV("button",{onClick:()=>_e(!1),className:"mr-3 p-1.5 rounded-lg hover:bg-white/10 text-gray-400","data-testid":"button-close-sidebar",children:e.jsxDEV(Qs,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1088,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1083,columnNumber:15},this),e.jsxDEV("h2",{className:"text-sm font-medium text-gray-300 truncate",children:$s||(y?"New Conversation":"AARON POWERFUL AI AGENT")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1091,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1072,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:!y&&b.length===0?e.jsxDEV("div",{className:"h-full flex flex-col items-center justify-center px-4",children:[e.jsxDEV("img",{src:"/logo.png",alt:"AARON POWERFUL AI AGENT",className:"h-28 w-28 rounded-2xl object-contain mb-6"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1099,columnNumber:17},this),e.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-1",children:"AARON POWERFUL AI AGENT"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1100,columnNumber:17},this),e.jsxDEV("p",{className:"text-amber-400/80 text-sm font-medium mb-2",children:"SEMOGA SUKSES MBAH YOPIH"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1101,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-500 text-sm text-center max-w-md mb-8",children:"Your AI assistant for coding, problem-solving, image generation, and more. Ask anything."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1102,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2.5 max-w-2xl w-full",children:[{icon:"ðŸ–¼ï¸",title:"Image",prefix:"create / generate / design",example:"create a 3D logo for Tord Labs"},{icon:"ðŸ’»",title:"Code",prefix:"write / code / build / debug",example:"write a Solidity smart contract"},{icon:"ðŸ§ ",title:"Reasoning",prefix:"explain / analyze / compare",example:"explain how yield farming works"},{icon:"ðŸ’¬",title:"General Chat",prefix:"just type anything",example:"what is the best DEX?"},{icon:"ðŸ“Ž",title:"File Upload",prefix:"attach file + prompt",example:"analyze this code + attach file"},{icon:"âœï¸",title:"Edit Image",prefix:"follow-up after image",example:"change background to dark blue"}].map(s=>e.jsxDEV("div",{className:"flex flex-col gap-1.5 p-3 rounded-xl border border-white/5 bg-white/[0.02]","data-testid":`tip-${s.title.toLowerCase().replace(/\s/g,"-")}`,children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-base",children:s.icon},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1120,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs font-semibold text-white",children:s.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1121,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1119,columnNumber:23},this),e.jsxDEV("span",{className:"text-[10px] text-yellow-400 font-medium bg-yellow-400/10 px-1.5 py-0.5 rounded w-fit leading-relaxed",children:s.prefix},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1123,columnNumber:23},this),e.jsxDEV("p",{className:"text-[10px] text-gray-500 leading-relaxed break-words whitespace-normal",children:['e.g. "',s.example,'"']},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1124,columnNumber:23},this)]},s.title,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1114,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1105,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1098,columnNumber:15},this):e.jsxDEV("div",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[b.map((s,t)=>e.jsxDEV("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:s.role==="user"?e.jsxDEV("div",{className:"max-w-[85%] space-y-2",children:[s.attachments&&s.attachments.length>0?e.jsxDEV("div",{className:"flex justify-end gap-2 flex-wrap",children:s.attachments.map((a,i)=>a.type.startsWith("image/")?e.jsxDEV("img",{src:a.dataUrl,alt:a.name,className:"max-h-20 rounded-lg border border-white/10","data-testid":`img-uploaded-${t}-${i}`},i,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1139,columnNumber:33},this):e.jsxDEV("div",{className:"h-16 px-3 rounded-lg border border-white/10 bg-white/5 flex items-center gap-2","data-testid":`file-uploaded-${t}-${i}`,children:[e.jsxDEV(G,{className:"h-4 w-4 text-primary shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1142,columnNumber:35},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground max-w-[120px] truncate",children:a.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1143,columnNumber:35},this)]},i,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1141,columnNumber:33},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1136,columnNumber:27},this):s.sourceImageUrl&&e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV("img",{src:s.sourceImageUrl,alt:"Uploaded",className:"max-h-20 rounded-lg border border-white/10","data-testid":`img-uploaded-${t}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1150,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1149,columnNumber:27},this),e.jsxDEV("div",{className:"bg-[#1c2333] rounded-2xl rounded-br-md px-4 py-2.5",children:e.jsxDEV("p",{className:"text-sm text-white whitespace-pre-wrap",children:s.prompt},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1154,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1153,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1134,columnNumber:23},this):e.jsxDEV("div",{className:"max-w-[85%] space-y-3",children:[s.imageUrl&&e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:s.imageUrl,alt:"Generated",className:"rounded-xl border border-white/10 max-w-full","data-testid":`img-result-${t}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1161,columnNumber:29},this),e.jsxDEV("button",{onClick:()=>Vs(s.imageUrl),className:"absolute top-3 right-3 p-2 rounded-full bg-black/60 hover:bg-black/80 text-white opacity-0 group-hover:opacity-100 transition-all border border-white/20",title:"Download","data-testid":`button-download-${t}`,children:e.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1173,columnNumber:31},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1167,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1160,columnNumber:27},this),s.prompt&&e.jsxDEV("div",{className:"text-sm text-gray-300 leading-relaxed prose prose-invert prose-sm max-w-none prose-pre:p-0 prose-pre:bg-transparent prose-code:before:content-none prose-code:after:content-none",children:e.jsxDEV(Hs,{remarkPlugins:[Xs],components:{code({className:a,children:i,...r}){const l=/language-(\w+)/.exec(a||""),o=String(i).replace(/\n$/,"");return l?e.jsxDEV("div",{className:"relative group/code my-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between bg-[#1e1e2e] px-3 py-1.5 rounded-t-lg border border-white/10 border-b-0",children:[e.jsxDEV("span",{className:"text-[10px] text-gray-500 uppercase font-mono",children:l[1]},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1189,columnNumber:43},this),e.jsxDEV(lt,{text:o},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1190,columnNumber:43},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1188,columnNumber:41},this),e.jsxDEV(Js,{style:Ys,language:l[1],PreTag:"div",customStyle:{margin:0,borderTopLeftRadius:0,borderTopRightRadius:0,border:"1px solid rgba(255,255,255,0.1)",fontSize:"12px"},children:o},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1192,columnNumber:41},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1187,columnNumber:39},this):e.jsxDEV("code",{className:"bg-white/10 px-1.5 py-0.5 rounded text-yellow-300 text-xs font-mono",...r,children:i},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1204,columnNumber:37},this)}},children:s.prompt},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1179,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1178,columnNumber:27},this),s.autoModelId&&s.autoIntent&&e.jsxDEV("div",{className:"flex items-center gap-1.5 mt-1.5 flex-wrap",children:[e.jsxDEV("span",{className:"text-[10px] text-gray-500 bg-white/5 border border-white/5 rounded-full px-2 py-0.5 inline-flex items-center gap-1",children:[e.jsxDEV(oe,{className:"h-2.5 w-2.5 text-yellow-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1218,columnNumber:31},this),e.jsxDEV("span",{className:"text-gray-400",children:h.find(a=>a.id===s.autoModelId)?.name||s.autoModelId.split("/").pop()?.replace(":free","")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1219,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1217,columnNumber:29},this),e.jsxDEV("span",{className:`text-[10px] font-medium px-2 py-0.5 rounded-full ${s.autoIntent==="image"?"text-pink-400 bg-pink-400/10":s.autoIntent==="code"?"text-cyan-400 bg-cyan-400/10":s.autoIntent==="reasoning"?"text-yellow-400 bg-yellow-400/10":"text-emerald-400 bg-emerald-400/10"}`,children:s.autoIntent==="image"?"Best for images":s.autoIntent==="code"?"Best for coding":s.autoIntent==="reasoning"?"Best for reasoning":"Best for general chat"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1223,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1216,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1158,columnNumber:23},this)},t,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1132,columnNumber:19},this)),K&&e.jsxDEV("div",{className:"flex justify-start",children:e.jsxDEV("div",{className:"flex items-center gap-3 text-gray-400 text-sm",children:e.jsxDEV("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:[e.jsxDEV(z,{className:"h-4 w-4 animate-spin text-yellow-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1245,columnNumber:25},this),e.jsxDEV("span",{children:[re(H||p)?"Generating image...":"Thinking...",p==="auto"&&H&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",h.find(s=>s.id===H)?.name||H.split("/").pop()?.replace(":free",""),")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1249,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1246,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1244,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1243,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1242,columnNumber:19},this),Fe&&e.jsxDEV("div",{className:"flex justify-start",children:e.jsxDEV("div",{className:"flex items-center gap-2 bg-red-500/10 border border-red-500/20 rounded-xl px-4 py-3 text-red-400 text-sm",children:[e.jsxDEV(ns,{className:"h-4 w-4 shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1262,columnNumber:23},this),Fe]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1261,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1260,columnNumber:19},this),e.jsxDEV("div",{ref:ze},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1268,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1130,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1096,columnNumber:11},this),Be&&X&&e.jsxDEV("div",{className:"border-t border-white/10 p-3 shrink-0",children:e.jsxDEV("div",{className:"max-w-3xl mx-auto",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-yellow-500/10 to-pink-500/10 border border-yellow-500/30 rounded-2xl p-4","data-testid":"image-settings-panel",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxDEV(ms,{className:"h-4 w-4 text-yellow-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1278,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-yellow-300",children:"Image Settings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1279,columnNumber:21},this),e.jsxDEV("div",{className:"ml-auto flex items-center bg-black/30 rounded-lg p-0.5",children:[e.jsxDEV("button",{onClick:()=>Re("free"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-all ${be==="free"?"bg-green-600 text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,"data-testid":"button-tier-free",children:"Free"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1281,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>Re("premium"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-all ${be==="premium"?"bg-yellow-600 text-black shadow-sm":"text-gray-500 hover:text-gray-300"}`,"data-testid":"button-tier-premium",children:"Premium"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1288,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1280,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1277,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-400 mb-3 truncate",children:["Prompt: ",X]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1297,columnNumber:19},this),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"text-xs text-gray-400 block mb-1.5",children:"Size (px)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1299,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[{val:"512x512",label:"512Ã—512",sub:"1:1"},{val:"1024x1024",label:"1024Ã—1024",sub:"1:1"},{val:"1920x1080",label:"1920Ã—1080",sub:"16:9"},{val:"1080x1920",label:"1080Ã—1920",sub:"9:16"},{val:"1024x768",label:"1024Ã—768",sub:"4:3"},{val:"768x1024",label:"768Ã—1024",sub:"3:4"},{val:"2048x2048",label:"2048Ã—2048",sub:"HD"},{val:"custom",label:"Custom"}].map(s=>e.jsxDEV("button",{onClick:()=>{ps(s.val),s.val!=="custom"&&(Ue(""),Te(""))},className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors flex flex-col items-center leading-tight ${q===s.val?"bg-yellow-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,"data-testid":`button-size-${s.val}`,children:[e.jsxDEV("span",{children:s.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1317,columnNumber:27},this),s.sub&&e.jsxDEV("span",{className:"text-[9px] opacity-60",children:s.sub},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1318,columnNumber:37},this)]},s.val,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1311,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1300,columnNumber:21},this),q==="custom"&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",value:Ne,onChange:s=>Ue(s.target.value),placeholder:"Width",min:64,max:4096,className:"w-24 px-2 py-1.5 rounded-lg bg-white/5 border border-white/10 text-white text-xs placeholder-gray-500 focus:outline-none focus:border-yellow-500","data-testid":"input-custom-width"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1324,columnNumber:25},this),e.jsxDEV("span",{className:"text-gray-500 text-xs",children:"Ã—"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1334,columnNumber:25},this),e.jsxDEV("input",{type:"number",value:ge,onChange:s=>Te(s.target.value),placeholder:"Height",min:64,max:4096,className:"w-24 px-2 py-1.5 rounded-lg bg-white/5 border border-white/10 text-white text-xs placeholder-gray-500 focus:outline-none focus:border-yellow-500","data-testid":"input-custom-height"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1335,columnNumber:25},this),e.jsxDEV("span",{className:"text-[10px] text-gray-500",children:"px"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1345,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1323,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1298,columnNumber:19},this),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"text-xs text-gray-400 block mb-1.5",children:"Theme / Style"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1350,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5",children:[{val:null,label:"None",icon:"âœ•"},{val:"crypto",label:"Crypto",icon:"â‚¿"},{val:"blockchain",label:"Blockchain",icon:"â›“"},{val:"elegance",label:"Elegance",icon:"âœ¦"},{val:"professional",label:"Professional",icon:"ðŸ’¼"},{val:"futuristic",label:"Futuristic",icon:"ðŸš€"},{val:"minimalist",label:"Minimalist",icon:"â—¯"},{val:"neon",label:"Neon",icon:"ðŸ’¡"},{val:"dark-luxury",label:"Dark Luxury",icon:"ðŸ–¤"},{val:"cyberpunk",label:"Cyberpunk",icon:"âš¡"},{val:"nature",label:"Nature",icon:"ðŸŒ¿"}].map(s=>e.jsxDEV("button",{onClick:()=>hs(s.val),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors flex items-center gap-1 ${W===s.val?"bg-yellow-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,"data-testid":`button-theme-${s.val||"none"}`,children:[e.jsxDEV("span",{children:s.icon},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1371,columnNumber:27},this),e.jsxDEV("span",{children:s.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1372,columnNumber:27},this)]},s.val||"none",!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1365,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1351,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1349,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>{J(!1),T()},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-yellow-600 hover:bg-yellow-700 text-black text-sm font-medium transition-colors","data-testid":"button-confirm-generate",children:[e.jsxDEV(oe,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1386,columnNumber:23},this),"Generate Image"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1378,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>{we(null),J(!1)},className:"px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white text-sm transition-colors","data-testid":"button-cancel-generate",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1389,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1377,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1276,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1275,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1274,columnNumber:13},this),(y||b.length>0)&&e.jsxDEV("div",{className:"border-t border-white/10 p-4 shrink-0",children:e.jsxDEV("div",{className:"max-w-3xl mx-auto",children:[E.length>0&&e.jsxDEV("div",{className:"mb-3 flex items-center gap-2 flex-wrap",children:E.map((s,t)=>e.jsxDEV("div",{className:"relative group",children:[s.type.startsWith("image/")?e.jsxDEV("img",{src:s.dataUrl,alt:s.name,className:"h-16 rounded-lg border border-white/20","data-testid":`img-upload-preview-${t}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1413,columnNumber:27},this):e.jsxDEV("div",{className:"h-16 w-20 rounded-lg border border-white/20 bg-white/5 flex flex-col items-center justify-center px-1","data-testid":`file-upload-preview-${t}`,children:[e.jsxDEV(G,{className:"h-4 w-4 text-primary mb-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1416,columnNumber:29},this),e.jsxDEV("span",{className:"text-[9px] text-muted-foreground truncate w-full text-center",children:s.name.length>12?s.name.slice(0,10)+"...":s.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1417,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1415,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>{M(a=>a.filter((i,r)=>r!==t)),f.current&&(f.current.value="")},className:"absolute -top-1.5 -right-1.5 bg-gray-800 border border-white/20 rounded-full p-0.5 hover:bg-red-600 transition-colors","data-testid":`button-remove-upload-${t}`,children:e.jsxDEV(Se,{className:"h-3 w-3 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1428,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1420,columnNumber:25},this)]},t,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1411,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1409,columnNumber:19},this),e.jsxDEV("div",{className:"relative bg-[#161b22] border border-white/10 rounded-2xl",children:[e.jsxDEV("textarea",{ref:Ge,"data-testid":"input-img-prompt",value:k,onChange:s=>_(s.target.value),onKeyDown:Cs,onPaste:Ye,placeholder:"Ask anything",className:"w-full bg-transparent text-white text-sm placeholder-gray-500 px-4 pt-3 pb-12 rounded-2xl resize-none focus:outline-none min-h-[52px] max-h-40",rows:1},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1436,columnNumber:19},this),e.jsxDEV("div",{className:"absolute bottom-2 left-2 right-2 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{ref:f,type:"file",accept:"*/*",multiple:!0,onChange:Je,className:"hidden"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1450,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>f.current?.click(),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-500 hover:text-gray-300 transition-colors",title:"Upload files","data-testid":"button-attach-image",children:e.jsxDEV(G,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1464,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1458,columnNumber:23},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("button",{onClick:()=>U(!Z),className:"flex items-center gap-1.5 px-2 py-1 rounded-lg hover:bg-white/10 text-gray-500 hover:text-gray-300 transition-colors text-xs","data-testid":"button-model-picker",children:[e.jsxDEV("img",{src:"/logo.png",alt:"",className:"h-3 w-3 object-contain"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1473,columnNumber:27},this),e.jsxDEV("span",{className:"max-w-[160px] truncate",children:ss},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1474,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1468,columnNumber:25},this),Z&&es()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1467,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1449,columnNumber:21},this),e.jsxDEV("button",{onClick:T,disabled:K||!k.trim(),className:"p-2 rounded-xl bg-yellow-600 hover:bg-yellow-700 disabled:opacity-30 disabled:cursor-not-allowed text-black transition-colors","data-testid":"button-send-prompt",children:e.jsxDEV(ls,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1487,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1481,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1448,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1435,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1407,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1406,columnNumber:13},this),!y&&b.length===0&&e.jsxDEV("div",{className:"border-t border-white/10 p-4 shrink-0",children:e.jsxDEV("div",{className:"max-w-3xl mx-auto",children:[E.length>0&&e.jsxDEV("div",{className:"mb-3 flex items-center gap-2 flex-wrap",children:E.map((s,t)=>e.jsxDEV("div",{className:"relative group",children:[s.type.startsWith("image/")?e.jsxDEV("img",{src:s.dataUrl,alt:s.name,className:"h-16 rounded-lg border border-white/20","data-testid":`img-upload-preview-home-${t}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1503,columnNumber:27},this):e.jsxDEV("div",{className:"h-16 w-20 rounded-lg border border-white/20 bg-white/5 flex flex-col items-center justify-center px-1","data-testid":`file-upload-preview-home-${t}`,children:[e.jsxDEV(G,{className:"h-4 w-4 text-primary mb-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1506,columnNumber:29},this),e.jsxDEV("span",{className:"text-[9px] text-muted-foreground truncate w-full text-center",children:s.name.length>12?s.name.slice(0,10)+"...":s.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1507,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1505,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>{M(a=>a.filter((i,r)=>r!==t)),f.current&&(f.current.value="")},className:"absolute -top-1.5 -right-1.5 bg-gray-800 border border-white/20 rounded-full p-0.5 hover:bg-red-600 transition-colors","data-testid":`button-remove-upload-home-${t}`,children:e.jsxDEV(Se,{className:"h-3 w-3 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1518,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1510,columnNumber:25},this)]},t,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1501,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1499,columnNumber:19},this),e.jsxDEV("div",{className:"relative bg-[#161b22] border border-white/10 rounded-2xl",children:[e.jsxDEV("textarea",{ref:Ge,"data-testid":"input-img-prompt-home",value:k,onChange:s=>_(s.target.value),onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),k.trim()&&T())},onPaste:Ye,placeholder:"Ask anything",className:"w-full bg-transparent text-white text-sm placeholder-gray-500 px-4 pt-3 pb-12 rounded-2xl resize-none focus:outline-none min-h-[52px] max-h-40",rows:1},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1525,columnNumber:19},this),e.jsxDEV("div",{className:"absolute bottom-2 left-2 right-2 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{ref:f,type:"file",accept:"*/*",multiple:!0,onChange:Je,className:"hidden"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1543,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>f.current?.click(),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-500 hover:text-gray-300 transition-colors",title:"Upload files","data-testid":"button-attach-image-home",children:e.jsxDEV(G,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1557,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1551,columnNumber:23},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("button",{onClick:()=>U(!Z),className:"flex items-center gap-1.5 px-2 py-1 rounded-lg hover:bg-white/10 text-gray-500 hover:text-gray-300 transition-colors text-xs","data-testid":"button-model-picker-home",children:[e.jsxDEV("img",{src:"/logo.png",alt:"",className:"h-3 w-3 object-contain"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1565,columnNumber:27},this),e.jsxDEV("span",{className:"max-w-[160px] truncate",children:ss},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1566,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1560,columnNumber:25},this),Z&&es()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1559,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1542,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>{k.trim()&&T()},disabled:!k.trim(),className:"p-2 rounded-xl bg-yellow-600 hover:bg-yellow-700 disabled:opacity-30 disabled:cursor-not-allowed text-black transition-colors","data-testid":"button-send-prompt-home",children:e.jsxDEV(ls,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1579,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1571,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1541,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1524,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1497,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1496,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1071,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:932,columnNumber:7},this),e.jsxDEV(Bs,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:1588,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin.tsx",lineNumber:931,columnNumber:5},this)}export{wt as default};
