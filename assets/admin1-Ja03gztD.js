import{c as v,v as H,r as a,G as n,k as A,W as T,j as e,t as _,g as c,h as F}from"./index-DueDyOkR.js";import{I as u}from"./input-wXOMXvKd.js";import{L as d}from"./loader-circle-CqyfVB-u.js";import{S as K}from"./settings-Dpv6GGb6.js";import{L as W}from"./log-out-DyIg0tys.js";import{C as q}from"./circle-check-big-CLse9MHV.js";const J=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],X=v("link-2",J);const Y=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q=v("save",Y);const Z=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ee=v("sparkles",Z),C={tord_contract:{label:"TORD Contract Address",placeholder:"0x...",group:"contracts",icon:T},staking_contract:{label:"Staking Contract Address",placeholder:"0x...",group:"contracts",icon:A},twitter_url:{label:"X (Twitter) URL",placeholder:"https://x.com/torddefi",group:"socials",icon:n},telegram_url:{label:"Telegram URL",placeholder:"https://t.me/TordLabs",group:"socials",icon:n},github_url:{label:"GitHub URL",placeholder:"https://github.com/tordlabs",group:"socials",icon:n},discord_url:{label:"Discord URL",placeholder:"https://discord.gg/...",group:"socials",icon:n},website_url:{label:"Website URL",placeholder:"https://tordlabs.com",group:"socials",icon:n}};function le(){const[,I]=H(),[i,l]=a.useState(()=>localStorage.getItem("admin_token")),[h,w]=a.useState(""),[N,k]=a.useState(""),[j,b]=a.useState(""),[E,p]=a.useState(!1),[x,m]=a.useState({}),[D,V]=a.useState(!1),[z,f]=a.useState(!1),[y,S]=a.useState(""),[R,g]=a.useState(!0),[M,o]=a.useState(!0);a.useEffect(()=>{i?P():(o(!1),g(!1))},[i]);async function P(){o(!0);try{if(!(await fetch("/api/admin/verify",{headers:{Authorization:`Bearer ${i}`}})).ok){localStorage.removeItem("admin_token"),l(null),o(!1),g(!1);return}const r=await fetch("/api/admin/settings",{headers:{Authorization:`Bearer ${i}`}});if(r.ok){const t=await r.json();m(t.settings||{})}}catch{localStorage.removeItem("admin_token"),l(null)}o(!1),g(!1)}async function U(s){s.preventDefault(),b(""),p(!0);try{const r=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:h,password:N})});if(!r.ok){b("Invalid username or password"),p(!1);return}const t=await r.json();localStorage.setItem("admin_token",t.token),l(t.token),w(""),k("")}catch{b("Connection error")}p(!1)}async function O(){await fetch("/api/admin/logout",{method:"POST",headers:{Authorization:`Bearer ${i}`}}).catch(()=>{}),localStorage.removeItem("admin_token"),l(null),m({})}async function $(){V(!0),S(""),f(!1);try{const s=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({settings:x})});if(!s.ok)throw new Error("Failed to save");const r=await s.json();m(r.settings||{}),f(!0),setTimeout(()=>f(!1),3e3)}catch{S("Failed to save settings. Please try again.")}V(!1)}function L(s,r){m(t=>({...t,[s]:r}))}const B=Object.entries(C).filter(([s,r])=>r.group==="contracts"),G=Object.entries(C).filter(([s,r])=>r.group==="socials");return M?e.jsxDEV("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsxDEV(d,{className:"h-8 w-8 animate-spin text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:143,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:142,columnNumber:7},this):i?R?e.jsxDEV("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsxDEV(d,{className:"h-8 w-8 animate-spin text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:210,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:209,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsxDEV("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-black/80 backdrop-blur-xl",children:e.jsxDEV("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"h-9 w-9 rounded-lg bg-gradient-to-br from-amber-500/20 to-amber-700/20 flex items-center justify-center border border-amber-500/30",children:e.jsxDEV(K,{className:"h-5 w-5 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:221,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:220,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-lg font-bold","data-testid":"text-admin1-header",children:"Platform Settings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:224,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Manage contract addresses & social links"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:219,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(c,{"data-testid":"button-goto-studio",variant:"ghost",size:"sm",onClick:()=>I("/admin"),className:"text-purple-400 hover:text-purple-300",children:[e.jsxDEV(ee,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:236,columnNumber:15},this),"AI Studio"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:229,columnNumber:13},this),e.jsxDEV(c,{"data-testid":"button-admin1-logout",variant:"ghost",size:"sm",onClick:O,className:"text-muted-foreground hover:text-white",children:[e.jsxDEV(W,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:246,columnNumber:15},this),"Logout"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:239,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:218,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:217,columnNumber:7},this),e.jsxDEV("main",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[e.jsxDEV("section",{className:"bg-black/60 border border-white/10 rounded-2xl p-6",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxDEV("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-blue-700/20 flex items-center justify-center border border-blue-500/30",children:e.jsxDEV(T,{className:"h-5 w-5 text-blue-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:257,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:256,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold","data-testid":"text-contracts-title",children:"Smart Contract Addresses"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:260,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"These addresses are used across staking, token analyzer, and other functions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:259,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:255,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:B.map(([s,r])=>e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm text-muted-foreground mb-1.5 block",children:r.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:268,columnNumber:17},this),e.jsxDEV(u,{"data-testid":`input-setting-${s}`,value:x[s]||"",onChange:t=>L(s,t.target.value),placeholder:r.placeholder,className:"bg-white/5 border-white/10 text-white font-mono text-sm"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:269,columnNumber:17},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:267,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:265,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:254,columnNumber:9},this),e.jsxDEV("section",{className:"bg-black/60 border border-white/10 rounded-2xl p-6",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxDEV("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-500/20 to-purple-700/20 flex items-center justify-center border border-purple-500/30",children:e.jsxDEV(X,{className:"h-5 w-5 text-purple-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:284,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:283,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold","data-testid":"text-socials-title",children:"Social Links"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:287,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Update social media links displayed across the platform"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:288,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:286,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:282,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:G.map(([s,r])=>e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm text-muted-foreground mb-1.5 block",children:r.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:295,columnNumber:17},this),e.jsxDEV(u,{"data-testid":`input-setting-${s}`,value:x[s]||"",onChange:t=>L(s,t.target.value),placeholder:r.placeholder,className:"bg-white/5 border-white/10 text-white text-sm"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:296,columnNumber:17},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:294,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:292,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:281,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(c,{"data-testid":"button-save-settings",onClick:$,disabled:D,className:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-black font-semibold px-8",children:[D?e.jsxDEV(d,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:315,columnNumber:23},this):e.jsxDEV(Q,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:315,columnNumber:75},this),"Save All Settings"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:309,columnNumber:11},this),z&&e.jsxDEV("div",{className:"flex items-center gap-2 text-green-400 text-sm","data-testid":"text-save-success",children:[e.jsxDEV(q,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:321,columnNumber:15},this),"Settings saved successfully"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:320,columnNumber:13},this),y&&e.jsxDEV("div",{className:"flex items-center gap-2 text-red-400 text-sm","data-testid":"text-save-error",children:[e.jsxDEV(_,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:327,columnNumber:15},this),y]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:308,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:253,columnNumber:7},this),e.jsxDEV(F,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:333,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:216,columnNumber:5},this):e.jsxDEV("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"w-full max-w-md",children:e.jsxDEV("div",{className:"bg-black/60 border border-white/10 rounded-2xl p-8",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-6",children:e.jsxDEV("div",{className:"h-14 w-14 rounded-xl bg-gradient-to-br from-amber-500/20 to-amber-700/20 flex items-center justify-center border border-amber-500/30",children:e.jsxDEV(A,{className:"h-7 w-7 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:155,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:154,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:153,columnNumber:13},this),e.jsxDEV("h1",{className:"text-2xl font-bold text-white text-center mb-1","data-testid":"text-admin1-title",children:"Settings Panel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:158,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground text-center mb-6",children:"Sign in to manage platform settings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV("form",{onSubmit:U,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:163,columnNumber:17},this),e.jsxDEV(u,{"data-testid":"input-admin1-username",value:h,onChange:s=>w(s.target.value),placeholder:"Enter username",className:"bg-white/5 border-white/10 text-white",autoComplete:"username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:174,columnNumber:17},this),e.jsxDEV(u,{"data-testid":"input-admin1-password",type:"password",value:N,onChange:s=>k(s.target.value),placeholder:"Enter password",className:"bg-white/5 border-white/10 text-white",autoComplete:"current-password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:173,columnNumber:15},this),j&&e.jsxDEV("div",{className:"flex items-center gap-2 text-red-400 text-sm","data-testid":"text-login1-error",children:[e.jsxDEV(_,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:187,columnNumber:19},this),j]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:186,columnNumber:17},this),e.jsxDEV(c,{"data-testid":"button-admin1-login",type:"submit",disabled:E||!h||!N,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-black font-semibold",children:[E?e.jsxDEV(d,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:197,columnNumber:33},this):null,"Sign In"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:151,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin1.tsx",lineNumber:150,columnNumber:7},this)}export{le as default};
