import{a as wr,r as t,j as e,L as bs,i as vr,h as kr}from"./index-DueDyOkR.js";import{W as Dr}from"./wallet-button-DDkbuire.js";import{W as Er}from"./wallet-change-modal-D38eVk9_.js";import{C as x,a as Ds,B as de,J as Oe,b as Fe}from"./provider-browser-B9Lhcak6.js";BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");BigInt("1000000000000000000");const gs=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const jr=56,Es="https://bsc-dataseed1.binance.org",me="0x55d398326f99059fF775485246999027B3197955",b={INSURANCE:"0xB1dDE178a957E1942346803cD60Ab571B30e4015",ORACLE:"0x2734cc8c80fc25ee526b77dcf80ad3fc9776b569",VAULT:"0x286d439Db323f10132Bff6A70F4063c932dFC911",FUNDING:"0x96754a550990ef3495ed75b1af7939b0faa027da",LIQUIDATION:"0x53bb6bc45ffe45926c412dd1e7f9f9816d5f1721",PERPS:"0xe04c4095ce6e638ce86853e7c71311a9f1ca1a76"},pe=["function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function balanceOf(address account) external view returns (uint256)","function decimals() external view returns (uint8)"],ue=["function traderDeposit(uint256 amount) external","function traderWithdraw(uint256 amount) external","function traderBalances(address trader) external view returns (uint256)","function hasOpenPosition(address trader) external view returns (bool)","function getAvailableLiquidity() external view returns (uint256)","function getVaultStats() external view returns (uint256 liquidity, uint256 vaultLocked, uint256 available, uint256 fees, uint256 pnlPaid, uint256 pnlReceived, uint256 actualBalance)","function totalLiquidity() external view returns (uint256)","function lockedCollateral() external view returns (uint256)","function paused() external view returns (bool)"],$=["function openPosition(bool isLong, uint256 collateral, uint256 leverage, uint256 tp, uint256 sl) external","function closePosition() external","function updateTpSl(uint256 tp, uint256 sl) external","function positions(address trader) external view returns (bool isOpen, bool isLong, uint256 collateral, uint256 size, uint256 entryPrice, uint256 liquidationPrice, int256 entryFundingRate, uint256 openTime, uint256 takeProfitPrice, uint256 stopLossPrice)","function getPosition(address trader) external view returns (bool isOpen, bool isLong, uint256 collateral, uint256 size, uint256 entryPrice, uint256 liquidationPrice, int256 entryFundingRate)","function getUnrealizedPnL(address trader) external view returns (int256)","function getStats() external view returns (uint256 totalLongOI, uint256 totalShortOI, uint256 activePositions, uint256 totalFees)","function maxLeverage() external view returns (uint256)","function maxPositionSize() external view returns (uint256)","function maxTotalOI() external view returns (uint256)","function maxSimultaneous() external view returns (uint256)","function tradingFeeBps() external view returns (uint256)","function liquidationThresholdBps() external view returns (uint256)","function paused() external view returns (bool)","function totalLongOI() external view returns (uint256)","function totalShortOI() external view returns (uint256)","function activePositions() external view returns (uint256)"],Vr=["function getMarkPrice() external view returns (uint256)","function twapPrice() external view returns (uint256)","function lastUpdateTime() external view returns (uint256)"],yr=["function getCurrentFundingRate() external view returns (int256)","function getCumulativeFundingRate() external view returns (int256)","function isFundingDue() external view returns (bool)","function lastFundingTime() external view returns (uint256)","function fundingInterval() external view returns (uint256)"],Sr="0x3ac7d15ef05af0a16214f5a2e98b42b91edd7ff4",Pr=[1,2,3,5],Tr="0xA719e7b6BC807595c425F0071BD69099189c7777",ws=1e5,Cr=["function balanceOf(address) view returns (uint256)"],vs=["0xb7d0e84b85df0ca4811f0564e8d83f51011666a8","0x3e0ba08eeac78c868b425f16695608edf7483a23"],c=a=>Number(Fe(a)),V=a=>Ds(a.toString());async function Lr(){const a=window;if(!a.ethereum)throw new Error("No wallet found. Please install MetaMask or another wallet.");await a.ethereum.request({method:"eth_requestAccounts"});const v=new de(a.ethereum),y=await v.getNetwork();if(Number(y.chainId)!==jr){try{await a.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]})}catch(A){if(A.code===4902)await a.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x38",chainName:"BNB Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:[Es],blockExplorerUrls:["https://bscscan.com"]}]});else throw new Error("Please switch to BSC network in your wallet")}return new de(a.ethereum)}return v}async function F(){return(await Lr()).getSigner()}const ks=[Es,"https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed4.binance.org"],Y=(a,v)=>Promise.race([a,new Promise((y,A)=>setTimeout(()=>A(new Error(`Timeout ${v}ms`)),v))]);async function Le(){const a=window;if(a.ethereum)try{const v=new de(a.ethereum);return await Y(v.getBlockNumber(),3e3),v}catch{}for(const v of ks)try{const y=new Oe(v);return await Y(y.getBlockNumber(),4e3),y}catch{}return new Oe(ks[0])}function Or(){return e.jsxDEV("div",{className:"w-full h-full overflow-hidden relative",children:e.jsxDEV("iframe",{src:"https://dexscreener.com/bsc/0x3ac7d15ef05af0a16214f5a2e98b42b91edd7ff4?embed=1&loadChartSettings=0&trades=0&tabs=0&info=0&chartLeftToolbar=0&chartTheme=dark&theme=dark&chartStyle=3&chartType=usd&interval=1",style:{width:"100%",height:"calc(100% + 30px)",border:"none"},allow:"clipboard-write",loading:"lazy"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:122,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:121,columnNumber:5},this)}function Wr(){const{address:a,connect:v,disconnect:y,pendingWallet:A,approvePendingWallet:js,rejectPendingWallet:Vs}=wr(),[ys,S]=t.useState(!1),[Ie,J]=t.useState(0),[Be,xe]=t.useState(!1),Ss=(a?vs.includes(a.toLowerCase()):!1)||Ie>=ws;t.useEffect(()=>{(async()=>{if(!a){J(0),xe(!0);return}if(vs.includes(a.toLowerCase())){J(ws),xe(!0);return}try{const n=window.ethereum?new de(window.ethereum):new Oe("https://bsc-dataseed1.binance.org"),l=await new x(Tr,Cr,n).balanceOf(a);J(Number(Fe(l)))}catch(n){console.error("TORD balance check failed:",n),J(0)}xe(!0)})()},[a]);const[k,$e]=t.useState("LONG"),[j,Ae]=t.useState("market"),[D,Ps]=t.useState(1),[Ue,K]=t.useState(""),[Re,U]=t.useState(""),[We,he]=t.useState(""),[ze,Ne]=t.useState(""),[I,R]=t.useState("trade"),[g,Q]=t.useState("deposit"),[P,w]=t.useState(""),[X,Z]=t.useState(!1),[fe,Ts]=t.useState(!1),[be,Cs]=t.useState(!1),[h,Ls]=t.useState(0),[ee,Os]=t.useState(0),[W,Me]=t.useState(0),[z,He]=t.useState(0),[ge,Fs]=t.useState(0),[Is,Bs]=t.useState(0),[$s,As]=t.useState(0),[Us,Rs]=t.useState(0),[_e,Ws]=t.useState(0),[N,qe]=t.useState(0),[we,Ge]=t.useState(0),[o,ve]=t.useState(null),[ke,De]=t.useState(0),[Ye,zs]=t.useState(()=>{try{const s=localStorage.getItem("perps_history_"+(a||""));return s?JSON.parse(s):[]}catch{return[]}}),[Je,se]=t.useState(!1),[Ir,Ms]=t.useState(0),[Ke,Hs]=t.useState("neutral"),[_s,qs]=t.useState(0),[Gs,Ys]=t.useState(0),[Js,Ks]=t.useState("24H"),[Ee,je]=t.useState(!1),[re,Qe]=t.useState(!1),[Ve,i]=t.useState(null),[Xe,Qs]=t.useState(0),[te,Xs]=t.useState(!1),[Ze,Zs]=t.useState(5),[M,er]=t.useState(30),[sr,rr]=t.useState(120),[ne,tr]=t.useState(30),[es,nr]=t.useState(8e3),[Br,ir]=t.useState(0),[ss,rs]=t.useState(!1),[ts,ns]=t.useState(!1),[is,as]=t.useState(""),[ls,os]=t.useState(""),[ie,cs]=t.useState(!1),[ye,ms]=t.useState("price"),[E,ae]=t.useState(null),ps=t.useRef(E);ps.current=E;const us=t.useRef(h);us.current=h;const f=parseFloat(Ue)||0,C=parseFloat(Re)||0,le=Xe>0?Xe:h,oe=j==="limit"?C:h,H=f*D,_=H*(ne/1e4),ar=oe>0?k==="LONG"?oe*(1-1/D*(es/1e4)):oe*(1+1/D*(es/1e4)):0,ds=t.useMemo(()=>o?.isOpen?c(o.entryPrice):0,[o]),B=ke;t.useEffect(()=>{xs();const s=setInterval(xs,15e3);return()=>clearInterval(s)},[]),t.useEffect(()=>{q();const s=setInterval(q,3e4);return()=>clearInterval(s)},[]),t.useEffect(()=>{if(a){T(),lr();const s=setInterval(T,15e3);return()=>clearInterval(s)}else qe(0),ve(null),De(0),Ge(0)},[a]);const xs=async()=>{try{const n=await(await fetch(`https://api.dexscreener.com/latest/dex/pairs/bsc/${Sr}`)).json();if(n?.pair){const r=n.pair,l=parseFloat(r.priceUsd||"0");h>0&&l!==h&&(Ms(h),Hs(l>h?"up":"down")),Ls(l),qs(parseFloat(r.priceChange?.h1||"0")),Ys(parseFloat(r.priceChange?.h6||"0")),Os(parseFloat(r.priceChange?.h24||"0")),Fs(parseFloat(r.volume?.h24||"0")),r.priceHigh?.h24?Me(parseFloat(r.priceHigh.h24)):(l>W||W===0)&&Me(l),r.priceLow?.h24?He(parseFloat(r.priceLow.h24)):(l<z||z===0)&&He(l)}}catch(s){console.error("Price fetch error:",s)}},q=async()=>{const s=await Le(),n=new x(b.VAULT,ue,s),r=new x(b.PERPS,$,s),l=new x(b.ORACLE,Vr,s),d=new x(b.FUNDING,yr,s),p=async(fr,br)=>{try{return await Y(fr(),1e4)}catch(gr){return console.warn("Contract call failed:",gr),br}},[u,L,O,ce,Te,Ce,dr,xr,hr,Nr]=await Promise.all([p(()=>n.getVaultStats(),null),p(()=>r.getStats(),null),p(()=>l.getMarkPrice(),BigInt(0)),p(()=>d.getCurrentFundingRate(),BigInt(0)),p(()=>r.maxLeverage(),BigInt(5)),p(()=>r.maxPositionSize(),BigInt(30)*BigInt(10)**BigInt(18)),p(()=>r.maxTotalOI(),BigInt(120)*BigInt(10)**BigInt(18)),p(()=>r.tradingFeeBps(),BigInt(30)),p(()=>r.liquidationThresholdBps(),BigInt(8e3)),p(()=>r.paused(),!1)]);u&&Ws(c(u[6])),L&&(As(c(L[0])),Rs(c(L[1])),ir(Number(L[2]))),Qs(c(O)),Bs(Number(ce)/1e16),Zs(Number(Te)),er(c(Ce)),rr(c(dr)),tr(Number(xr)),nr(Number(hr)),Xs(Nr)},T=async()=>{if(!a)return;console.log("[PERPS] Loading user data for:",a);const s=await Le(),n=new x(b.VAULT,ue,s),r=new x(b.PERPS,$,s),l=new x(me,pe,s),d=async(ce,Te)=>{try{return await Y(ce(),1e4)}catch(Ce){return console.warn("[PERPS] call failed:",Ce),Te}},[p,u,L,O]=await Promise.all([d(()=>n.traderBalances(a),BigInt(0)),d(()=>r.positions(a),null),d(()=>r.getUnrealizedPnL(a),BigInt(0)),d(()=>l.balanceOf(a),BigInt(0))]);console.log("[PERPS] Balance:",p?.toString(),"Wallet USDT:",O?.toString()),qe(c(p)),Ge(c(O)),u&&u[0]?(ve({isOpen:u[0],isLong:u[1],collateral:u[2],size:u[3],entryPrice:u[4],liquidationPrice:u[5],entryFundingRate:u[6],openTime:u[7],takeProfitPrice:u[8],stopLossPrice:u[9]}),De(c(L))):(ve(null),De(0))},lr=async()=>{if(a)try{const s=await Le(),n=new x(me,pe,s),r=await Y(n.allowance(a,b.VAULT),1e4);je(r<Ds("1000000"))}catch(s){console.error("Approval check error:",s)}},Se=async()=>{try{Qe(!0),i("Approving USDT...");const s=await F(),r=await new x(me,pe,s).approve(b.VAULT,gs);i("Waiting for confirmation..."),await r.wait(),je(!1),i("Approved!"),setTimeout(()=>i(null),3e3)}catch(s){console.error("Approve error:",s),i(s.reason||s.message||"Approval failed"),setTimeout(()=>i(null),5e3)}finally{Qe(!1)}},G=(s,n,r,l,d)=>{fetch("/api/dev88/perps/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:s,type:n,amount:r,tx_hash:l||null,details:d||null})}).catch(()=>{})},hs=async()=>{const s=parseFloat(P)||0;if(!(s<=0)){if(!a){S(!0);return}if(Ee){await Se();return}try{Z(!0),i("Preparing deposit...");const n=await F(),r=new x(b.VAULT,ue,n),l=V(s),d=await n.getAddress(),p=new x(me,pe,n),u=await p.balanceOf(d);if(u<l){i(`Insufficient USDT. Wallet has ${Number(Fe(u)).toFixed(2)} USDT`),setTimeout(()=>i(null),5e3);return}await p.allowance(d,b.VAULT)<l&&(i("USDT not approved. Approving..."),await(await p.approve(b.VAULT,gs)).wait(),je(!1),i("Approved! Now depositing...")),i("Confirm deposit in your wallet...");const O=await r.traderDeposit(l);i("Waiting for confirmation..."),await O.wait(),i("Deposit confirmed!"),G(a,"deposit",s,O.hash,`Deposited ${s} USDT to vault`),w(""),await T(),setTimeout(()=>i(null),3e3)}catch(n){console.error("Deposit error:",n);const r=n.reason||n.shortMessage||n.message||"Deposit failed";i(r.includes("user rejected")?"Transaction rejected":r.length>80?r.slice(0,80)+"...":r),setTimeout(()=>i(null),5e3)}finally{Z(!1)}}},Ns=async()=>{const s=parseFloat(P)||0;if(!(s<=0||s>N)){if(!a){S(!0);return}try{Z(!0),i("Confirm withdrawal in your wallet...");const n=await F(),l=await new x(b.VAULT,ue,n).traderWithdraw(V(s));i("Waiting for confirmation..."),await l.wait(),i("Withdrawal confirmed!"),G(a,"withdraw",s,l.hash,`Withdrew ${s} USDT from vault`),w(""),await T(),setTimeout(()=>i(null),3e3)}catch(n){console.error("Withdraw error:",n);const r=n.reason||n.shortMessage||n.message||"Withdrawal failed";r.includes("Close positions first")?i("Close your position before withdrawing"):i(r),setTimeout(()=>i(null),5e3)}finally{Z(!1)}}},or=async()=>{if(!a){S(!0);return}if(f<=0||f>M||o?.isOpen||te)return;const s=parseFloat(We)||0,n=parseFloat(ze)||0;if(j==="limit"){if(C<=0){i("Enter a valid limit price"),setTimeout(()=>i(null),3e3);return}ae({side:k,collateral:f,leverage:D,limitPrice:C,tp:s,sl:n}),i(`Limit ${k} order placed @ ${m(C)} â€” waiting for price...`),setTimeout(()=>i(null),4e3);return}try{se(!0),i("Confirm trade in your wallet...");const r=await F(),l=new x(b.PERPS,$,r),d=s>0?V(s):BigInt(0),p=n>0?V(n):BigInt(0),u=await l.openPosition(k==="LONG",V(f),BigInt(D),d,p);i("Waiting for confirmation..."),await u.wait(),i("Position opened!"),G(a,"open",f*D,u.hash,`${k} ${f.toFixed(2)} USDT x${D} @ market`),K(""),he(""),Ne(""),R("positions"),await Promise.all([T(),q()]),setTimeout(()=>i(null),3e3)}catch(r){console.error("Open position error:",r);const l=r.reason||r.shortMessage||r.message||"Failed to open position";i(l.includes("user rejected")?"Transaction rejected":l.length>80?l.slice(0,80)+"...":l),setTimeout(()=>i(null),5e3)}finally{se(!1)}},cr=async s=>{try{se(!0),i(`Limit triggered! Opening ${s.side} @ market...`);const n=await F(),r=new x(b.PERPS,$,n),l=s.tp>0?V(s.tp):BigInt(0),d=s.sl>0?V(s.sl):BigInt(0),p=await r.openPosition(s.side==="LONG",V(s.collateral),BigInt(s.leverage),l,d);i("Waiting for confirmation..."),await p.wait(),i("Limit order filled!"),a&&G(a,"open",s.collateral*s.leverage,p.hash,`${s.side} LIMIT ${s.collateral.toFixed(2)} USDT x${s.leverage} @ ${s.limitPrice.toFixed(6)}`),ae(null),K(""),U(""),he(""),Ne(""),R("positions"),await Promise.all([T(),q()]),setTimeout(()=>i(null),3e3)}catch(n){console.error("Limit order execution error:",n);const r=n.reason||n.message||"Limit order failed";i(r.length>80?r.slice(0,80)+"...":r),ae(null),setTimeout(()=>i(null),5e3)}finally{se(!1)}};t.useEffect(()=>{if(!E)return;const s=setInterval(()=>{const n=ps.current;if(!n){clearInterval(s);return}const r=us.current;if(r<=0)return;let l=!1;n.side==="LONG"&&r<=n.limitPrice&&(l=!0),n.side==="SHORT"&&r>=n.limitPrice&&(l=!0),l&&(clearInterval(s),cr(n))},3e3);return()=>clearInterval(s)},[E]);const mr=async()=>{if(!(!a||!o?.isOpen))try{rs(!0),i("Closing position...");const s=await F(),r=await new x(b.PERPS,$,s).closePosition();i("Waiting for confirmation..."),await r.wait(),zs(l=>[{side:o.isLong?"LONG":"SHORT",collateral:c(o.collateral),size:c(o.size),entryPrice:ds,closePrice:h,pnl:B,closedAt:Date.now()},...l]),G(a,"close",c(o.size),r.hash,`Closed ${o.isLong?"LONG":"SHORT"} PnL: ${ke>=0?"+":""}${ke.toFixed(2)} USDT`),i("Position closed!"),await Promise.all([T(),q()]),setTimeout(()=>i(null),3e3)}catch(s){console.error("Close position error:",s),i(s.reason||s.message||"Failed to close position"),setTimeout(()=>i(null),5e3)}finally{rs(!1)}},pr=async()=>{if(!a||!o?.isOpen)return;const s=parseFloat(is)||0,n=parseFloat(ls)||0;try{ns(!0),i("Updating TP/SL...");const r=await F(),d=await new x(b.PERPS,$,r).updateTpSl(s>0?V(s):BigInt(0),n>0?V(n):BigInt(0));i("Waiting for confirmation..."),await d.wait(),i("TP/SL updated!"),cs(!1),await T(),setTimeout(()=>i(null),3e3)}catch(r){console.error("Update TP/SL error:",r),i(r.reason||r.message||"Failed to update TP/SL"),setTimeout(()=>i(null),5e3)}finally{ns(!1)}},ur=t.useCallback(async s=>{await v(s)&&S(!1)},[v]),m=s=>s===0?"$0.00":s<1e-4?`$${s.toFixed(8)}`:s<.01?`$${s.toFixed(6)}`:s<1?`$${s.toFixed(4)}`:`$${s.toFixed(2)}`,Pe=s=>s>=1e6?`$${(s/1e6).toFixed(2)}M`:s>=1e3?`$${(s/1e3).toFixed(1)}K`:`$${s.toFixed(2)}`,fs=$s+Us;return e.jsxDEV("div",{className:"h-screen bg-[#0a0a0f] text-white font-sans select-none flex flex-col overflow-hidden",children:[e.jsxDEV("style",{children:`
        .perps-scrollbar::-webkit-scrollbar { width: 4px; }
        .perps-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .perps-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }
        .perps-glow { box-shadow: 0 0 40px rgba(245,166,35,0.06); }
        .perps-input { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 7px 10px; color: #fff; font-size: 12px; outline: none; width: 100%; transition: border-color 0.2s; box-sizing: border-box; }
        .perps-input:focus { border-color: rgba(245,166,35,0.4); }
        .perps-input::placeholder { color: rgba(255,255,255,0.25); }
        .lev-btn { padding: 5px 0; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer; transition: all 0.2s; border: 1px solid rgba(255,255,255,0.08); background: rgba(255,255,255,0.04); color: #9ca3af; flex: 1; text-align: center; }
        .lev-btn.active { background: rgba(245,166,35,0.15); border-color: #f5a623; color: #f5a623; }
        .lev-btn:hover:not(.active) { background: rgba(255,255,255,0.08); color: #fff; }
        .price-flash-up { animation: flashUp 0.6s ease-out; }
        .price-flash-down { animation: flashDown 0.6s ease-out; }
        @keyframes flashUp { 0% { color: #22c55e; text-shadow: 0 0 20px rgba(34,197,94,0.4); } 100% { color: #fff; text-shadow: none; } }
        @keyframes flashDown { 0% { color: #ef4444; text-shadow: 0 0 20px rgba(239,68,68,0.4); } 100% { color: #fff; text-shadow: none; } }
        .tab-btn { padding: 6px 0; font-size: 11px; font-weight: 500; cursor: pointer; color: #6b7280; border-bottom: 2px solid transparent; transition: all 0.2s; flex: 1; text-align: center; }
        .tab-btn.active { color: #f5a623; border-bottom-color: #f5a623; }
        .tab-btn:hover:not(.active) { color: #9ca3af; }
        .side-btn { flex: 1; padding: 8px; border-radius: 8px; font-size: 12px; font-weight: 700; cursor: pointer; transition: all 0.2s; border: none; text-transform: uppercase; letter-spacing: 0.5px; }
        .side-long { background: rgba(34,197,94,0.12); color: #22c55e; }
        .side-long.active { background: #22c55e; color: #000; }
        .side-long:hover:not(.active) { background: rgba(34,197,94,0.2); }
        .side-short { background: rgba(239,68,68,0.12); color: #ef4444; }
        .side-short.active { background: #ef4444; color: #fff; }
        .side-short:hover:not(.active) { background: rgba(239,68,68,0.2); }
        .exec-btn { width: 100%; padding: 10px; border-radius: 8px; font-size: 12px; font-weight: 700; cursor: pointer; transition: all 0.2s; border: none; letter-spacing: 0.3px; }
        .exec-btn.long { background: #22c55e; color: #000; }
        .exec-btn.long:hover { background: #16a34a; }
        .exec-btn.short { background: #ef4444; color: #fff; }
        .exec-btn.short:hover { background: #dc2626; }
        .exec-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .stat-label { font-size: 10px; color: #6b7280; font-weight: 400; }
        .stat-value { font-size: 11px; color: #e5e7eb; font-weight: 500; font-variant-numeric: tabular-nums; }
        .pos-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); border-radius: 10px; padding: 10px; margin-bottom: 6px; }
        .perps-balance-col { width: 22vw; min-width: 200px; max-width: 280px; }
        .perps-trade-col { width: 24vw; min-width: 220px; max-width: 320px; }
        @media (min-width: 1400px) {
          .perps-balance-col { max-width: 300px; }
          .perps-trade-col { max-width: 340px; }
          .perps-input { font-size: 13px; padding: 9px 12px; }
          .tab-btn { font-size: 12px; padding: 7px 0; }
          .side-btn { font-size: 13px; padding: 9px; }
          .exec-btn { font-size: 13px; padding: 11px; }
          .stat-label { font-size: 11px; }
          .stat-value { font-size: 12px; }
          .lev-btn { font-size: 12px; }
        }
        @media (max-width: 768px) {
          .perps-desktop-grid { flex-direction: column !important; height: auto !important; overflow-y: auto !important; }
          .perps-chart-col { min-height: auto !important; padding: 16px 0 12px !important; flex: none !important; }
          .perps-chart-col .text-5xl { font-size: 26px !important; }
          .perps-trade-col { min-width: 100% !important; max-width: 100% !important; width: 100% !important; border-left: none !important; border-right: none !important; }
          .perps-balance-col { display: none !important; }
          .perps-stats-bar-wrap { display: none !important; }
          .perps-mobile-stats { display: flex !important; }
          .perps-mobile-balance { display: block !important; }
        }
        .perps-mobile-stats { display: none; }
        .perps-mobile-balance { display: none; }
      `},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:723,columnNumber:7},this),(!a||!Ss&&Be)&&e.jsxDEV("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",style:{backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",background:"rgba(0,0,0,0.7)"},children:e.jsxDEV("div",{className:"flex flex-col items-center gap-5 p-8 rounded-2xl border border-white/10",style:{background:"rgba(20,20,20,0.9)"},children:[e.jsxDEV("img",{src:"/logo.png",alt:"TORD",className:"w-16 h-16 rounded-full",style:{filter:"drop-shadow(0 0 12px rgba(245,166,35,0.4))"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:787,columnNumber:13},this),e.jsxDEV("div",{className:"text-center space-y-2",children:[e.jsxDEV("p",{className:"text-white font-bold text-lg",children:"TORD Perpetual Trading"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:789,columnNumber:15},this),a?e.jsxDEV("p",{className:"text-red-400 text-sm",children:"Insufficient TORD balance"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:793,columnNumber:17},this):e.jsxDEV("p",{className:"text-white/50 text-sm",children:"Connect your wallet to access trading"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:791,columnNumber:17},this),e.jsxDEV("p",{className:"text-amber-400 font-semibold text-sm",children:"Hold Min. 100,000 TORD"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:795,columnNumber:15},this),a&&Be&&e.jsxDEV("p",{className:"text-white/30 text-xs mt-1",children:["Your balance: ",Ie.toLocaleString()," TORD"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:797,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:788,columnNumber:13},this),a?e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("a",{href:"https://pancakeswap.finance/swap?outputCurrency=0xA719e7b6BC807595c425F0071BD69099189c7777",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2.5 rounded-xl font-bold text-black text-sm",style:{background:"linear-gradient(135deg, #f5a623, #e8951a)"},children:"Buy TORD"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:806,columnNumber:17},this),e.jsxDEV("button",{onClick:y,className:"px-6 py-2.5 rounded-xl font-bold text-white/60 text-sm border border-white/10 hover:border-white/20",children:"Disconnect"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:809,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:805,columnNumber:15},this):e.jsxDEV("button",{onClick:()=>S(!0),className:"px-8 py-3 rounded-xl font-bold text-black text-sm",style:{background:"linear-gradient(135deg, #f5a623, #e8951a)"},children:"Connect Wallet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:801,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:786,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:785,columnNumber:9},this),Ve&&e.jsxDEV("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-500/20 border-b border-amber-500/30 px-4 py-2 text-center",children:e.jsxDEV("span",{className:"text-xs text-amber-300 font-medium",children:Ve},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:821,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:820,columnNumber:9},this),e.jsxDEV("div",{className:"border-b border-white/[0.06] shrink-0",style:{marginTop:Ve?32:0},children:e.jsxDEV("div",{className:"flex items-center justify-between px-4 h-12",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(bs,{href:"/",children:e.jsxDEV("img",{src:"/logo.png",alt:"TORD",className:"h-6 w-6 rounded-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:830,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:829,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-bold text-white",children:"TORD/USDT"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:833,columnNumber:15},this),e.jsxDEV("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-400 font-semibold",children:"PERP"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:834,columnNumber:15},this),te&&e.jsxDEV("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-red-500/20 text-red-400 font-semibold",children:"PAUSED"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:835,columnNumber:28},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:832,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:828,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(bs,{href:"/trading",className:"text-xs text-white/40 hover:text-white/70 transition-colors",children:"Futures"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:839,columnNumber:13},this),e.jsxDEV(Dr,{address:a,onConnect:()=>S(!0),onDisconnect:y,variant:"amber",connectLabel:"Connect",mobileCompact:!0},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:842,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:838,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:827,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:826,columnNumber:7},this),e.jsxDEV("div",{className:"perps-stats-bar-wrap border-b border-white/[0.06] overflow-x-auto shrink-0",children:e.jsxDEV("div",{className:"flex items-center gap-6 px-4 h-10 min-w-max",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"Mark"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:851,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-semibold text-white font-mono",children:m(h)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:852,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:850,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"Oracle"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:855,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs font-medium text-amber-400 font-mono",children:m(le)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:856,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:854,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"24h"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:859,columnNumber:13},this),e.jsxDEV("span",{className:`text-xs font-medium ${ee>=0?"text-green-400":"text-red-400"}`,children:[ee>=0?"+":"",ee.toFixed(2),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:860,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:858,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"High"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:865,columnNumber:13},this),e.jsxDEV("span",{className:"stat-value",children:m(W)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:866,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:864,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"Low"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:869,columnNumber:13},this),e.jsxDEV("span",{className:"stat-value",children:m(z)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:870,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:868,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"Vol"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:873,columnNumber:13},this),e.jsxDEV("span",{className:"stat-value",children:Pe(ge)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:874,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:872,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"Funding"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:877,columnNumber:13},this),e.jsxDEV("span",{className:"stat-value",children:[Is.toFixed(4),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:878,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:876,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"OI"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:881,columnNumber:13},this),e.jsxDEV("span",{className:"stat-value",children:["$",fs.toFixed(0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:882,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:880,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"stat-label",children:"Vault"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:885,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs font-medium text-amber-400",children:["$",(_e*2).toFixed(0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:886,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:884,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:849,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:848,columnNumber:7},this),e.jsxDEV("div",{className:"flex perps-desktop-grid flex-1 min-h-0",children:[e.jsxDEV("div",{className:"perps-mobile-balance border-b border-white/[0.06]",children:[e.jsxDEV("button",{className:"w-full flex items-center justify-between px-4 py-3",onClick:()=>Ts(!fe),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-sm font-bold text-white",children:"Your Balance"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:901,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs font-mono text-white/50",children:[N.toFixed(2)," USDT"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:902,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:900,columnNumber:13},this),e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 text-white/40 transition-transform ${fe?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:904,columnNumber:204},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:904,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:896,columnNumber:11},this),fe&&e.jsxDEV("div",{className:"px-4 pb-4 space-y-3",children:[e.jsxDEV("div",{className:"text-center mb-3",children:[e.jsxDEV("p",{className:"text-2xl font-bold text-white font-mono",children:[N.toFixed(4)," ",e.jsxDEV("span",{className:"text-xs text-white/40 font-normal",children:"USDT"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:909,columnNumber:97},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:909,columnNumber:17},this),e.jsxDEV("p",{className:"text-[10px] text-white/25 mt-1",children:["Wallet: ",we.toFixed(2)," USDT"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:910,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:908,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-1 p-1 rounded-lg bg-white/[0.04]",children:[e.jsxDEV("button",{className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${g==="deposit"?"bg-white/[0.1] text-white":"text-white/40"}`,onClick:()=>{Q("deposit"),w("")},children:"Deposit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:913,columnNumber:17},this),e.jsxDEV("button",{className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${g==="withdraw"?"bg-white/[0.1] text-white":"text-white/40"}`,onClick:()=>{Q("withdraw"),w("")},children:"Withdraw"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:914,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:912,columnNumber:15},this),e.jsxDEV("input",{type:"number",className:"perps-input text-right pr-3",placeholder:"0.00",value:P,onChange:s=>w(s.target.value),step:"1",min:"0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:916,columnNumber:15},this),g==="deposit"?e.jsxDEV("div",{className:"flex gap-2",children:[5,10,25,50].map(s=>e.jsxDEV("button",{onClick:()=>w(s.toString()),className:"flex-1 py-1.5 text-[11px] font-medium rounded-lg bg-white/[0.04] text-white/50 hover:text-white/80 hover:bg-white/[0.08] transition-all border border-white/[0.06]",children:s},s,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:918,columnNumber:72},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:918,columnNumber:17},this):e.jsxDEV("div",{className:"flex gap-2",children:[[25,50,75].map(s=>e.jsxDEV("button",{onClick:()=>w((N*s/100).toFixed(4)),className:"flex-1 py-1.5 text-[11px] font-medium rounded-lg bg-white/[0.04] text-white/50 hover:text-white/80 hover:bg-white/[0.08] transition-all border border-white/[0.06]",children:[s,"%"]},s,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:920,columnNumber:71},this)),e.jsxDEV("button",{onClick:()=>w(N.toFixed(4)),className:"flex-1 py-1.5 text-[11px] font-medium rounded-lg bg-white/[0.04] text-white/50 hover:text-white/80 hover:bg-white/[0.08] transition-all border border-white/[0.06]",children:"Max"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:920,columnNumber:358},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:920,columnNumber:17},this),Ee&&g==="deposit"&&e.jsxDEV("button",{className:"w-full py-2.5 rounded-lg text-xs font-bold transition-all bg-amber-500/20 text-amber-400 hover:bg-amber-500/30",onClick:Se,disabled:re,children:re?"Approving...":"Approve USDT (one-time)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:923,columnNumber:17},this),e.jsxDEV("button",{className:"w-full py-2.5 rounded-lg text-xs font-bold transition-all",style:{background:"rgba(132,169,72,0.25)",color:"#a4c639"},onClick:g==="deposit"?hs:Ns,disabled:X||(parseFloat(P)||0)<=0||g==="withdraw"&&(parseFloat(P)||0)>N,children:X?"Processing...":`${g==="deposit"?"Deposit":"Withdraw"} USDT`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:927,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:907,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:895,columnNumber:9},this),e.jsxDEV("div",{className:"perps-balance-col border-r border-white/[0.06] flex flex-col overflow-y-auto perps-scrollbar",children:e.jsxDEV("div",{className:"p-3 space-y-3",children:[e.jsxDEV("p",{className:"text-xs font-bold text-white",children:"Your Balance"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:935,columnNumber:13},this),e.jsxDEV("div",{className:"text-center py-1",children:[e.jsxDEV("p",{className:"text-[10px] text-white/40 mb-0.5",children:"Available Balance"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:937,columnNumber:15},this),e.jsxDEV("p",{className:"text-xl font-bold text-white font-mono tracking-tight",children:[N.toFixed(4)," ",e.jsxDEV("span",{className:"text-[10px] text-white/40 font-normal",children:"USDT"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:938,columnNumber:109},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:938,columnNumber:15},this),e.jsxDEV("p",{className:"text-[10px] text-white/25 mt-1",children:["Wallet: ",we.toFixed(2)," USDT"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:939,columnNumber:15},this),o?.isOpen&&e.jsxDEV("p",{className:"text-[10px] text-white/25 mt-0.5",children:[c(o.collateral).toFixed(4)," locked in position"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:941,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:936,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-1 p-1 rounded-lg bg-white/[0.04]",children:[e.jsxDEV("button",{className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${g==="deposit"?"bg-white/[0.1] text-white":"text-white/40 hover:text-white/60"}`,onClick:()=>{Q("deposit"),w("")},children:"Deposit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:946,columnNumber:15},this),e.jsxDEV("button",{className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${g==="withdraw"?"bg-white/[0.1] text-white":"text-white/40 hover:text-white/60"}`,onClick:()=>{Q("withdraw"),w("")},children:"Withdraw"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:947,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:945,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxDEV("span",{className:"text-[11px] text-white/40",children:"Amount (USDT)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:952,columnNumber:17},this),e.jsxDEV("button",{className:"text-[10px] text-green-400/70 hover:text-green-400 font-semibold transition-colors",onClick:()=>w(g==="withdraw"?N.toFixed(4):we.toFixed(4)),children:"Max"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:953,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:951,columnNumber:15},this),e.jsxDEV("input",{type:"number",className:"perps-input text-right pr-3",placeholder:"0.00",value:P,onChange:s=>w(s.target.value),step:"1",min:"0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:955,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:950,columnNumber:13},this),g==="deposit"?e.jsxDEV("div",{className:"flex gap-2",children:[5,10,25,50].map(s=>e.jsxDEV("button",{onClick:()=>w(s.toString()),className:"flex-1 py-1.5 text-[11px] font-medium rounded-lg bg-white/[0.04] text-white/50 hover:text-white/80 hover:bg-white/[0.08] transition-all border border-white/[0.06]",children:s},s,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:961,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:959,columnNumber:15},this):e.jsxDEV("div",{className:"flex gap-2",children:[[25,50,75].map(s=>e.jsxDEV("button",{onClick:()=>w((N*s/100).toFixed(4)),className:"flex-1 py-1.5 text-[11px] font-medium rounded-lg bg-white/[0.04] text-white/50 hover:text-white/80 hover:bg-white/[0.08] transition-all border border-white/[0.06]",children:[s,"%"]},s,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:967,columnNumber:19},this)),e.jsxDEV("button",{onClick:()=>w(N.toFixed(4)),className:"flex-1 py-1.5 text-[11px] font-medium rounded-lg bg-white/[0.04] text-white/50 hover:text-white/80 hover:bg-white/[0.08] transition-all border border-white/[0.06]",children:"Max"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:969,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:965,columnNumber:15},this),Ee&&g==="deposit"&&e.jsxDEV("button",{className:"w-full py-2.5 rounded-lg text-xs font-bold transition-all bg-amber-500/20 text-amber-400 hover:bg-amber-500/30",onClick:Se,disabled:re,children:re?e.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-3.5 w-3.5",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:981,columnNumber:83},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:981,columnNumber:189},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:981,columnNumber:21},this),"Approving..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:980,columnNumber:19},this):"Approve USDT (one-time)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:974,columnNumber:15},this),e.jsxDEV("button",{className:"w-full py-2.5 rounded-lg text-xs font-bold transition-all",style:{background:"rgba(132,169,72,0.25)",color:"#a4c639"},onClick:g==="deposit"?hs:Ns,disabled:X||(parseFloat(P)||0)<=0||g==="withdraw"&&(parseFloat(P)||0)>N,children:X?e.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-3.5 w-3.5",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:996,columnNumber:81},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:996,columnNumber:187},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:996,columnNumber:19},this),"Processing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:995,columnNumber:17},this):`${g==="deposit"?"Deposit":"Withdraw"} USDT`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:988,columnNumber:13},this),e.jsxDEV("div",{className:"mt-2 p-3 rounded-xl bg-white/[0.02] border border-white/[0.04] space-y-2",children:[e.jsxDEV("p",{className:"text-[10px] text-white/30 uppercase tracking-wider font-semibold",children:"Platform Settings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1005,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-y-1.5",children:[e.jsxDEV("span",{className:"text-[11px] text-white/40",children:"Max Leverage"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1007,columnNumber:17},this),e.jsxDEV("span",{className:"text-[11px] text-white/60 text-right",children:[Ze,"x"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1008,columnNumber:17},this),e.jsxDEV("span",{className:"text-[11px] text-white/40",children:"Max Collateral"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1009,columnNumber:17},this),e.jsxDEV("span",{className:"text-[11px] text-white/60 text-right",children:["$",M]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1010,columnNumber:17},this),e.jsxDEV("span",{className:"text-[11px] text-white/40",children:"Total OI Limit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1011,columnNumber:17},this),e.jsxDEV("span",{className:"text-[11px] text-white/60 text-right",children:["$",sr]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1012,columnNumber:17},this),e.jsxDEV("span",{className:"text-[11px] text-white/40",children:"Trading Fee"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1013,columnNumber:17},this),e.jsxDEV("span",{className:"text-[11px] text-white/60 text-right",children:[(ne/100).toFixed(1),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1014,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1006,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1004,columnNumber:13},this),e.jsxDEV("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04] space-y-2",children:[e.jsxDEV("p",{className:"text-[10px] text-white/30 uppercase tracking-wider font-semibold",children:"How to Trade"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1019,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("p",{className:"text-[10px] text-white/40",children:"1. Connect wallet (BSC network)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1021,columnNumber:17},this),e.jsxDEV("p",{className:"text-[10px] text-white/40",children:"2. Approve USDT (one-time)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1022,columnNumber:17},this),e.jsxDEV("p",{className:"text-[10px] text-white/40",children:"3. Deposit USDT to vault"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1023,columnNumber:17},this),e.jsxDEV("p",{className:"text-[10px] text-white/40",children:"4. Open long or short position"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1024,columnNumber:17},this),e.jsxDEV("p",{className:"text-[10px] text-white/40",children:"5. Close manually or set TP/SL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1025,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1020,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1018,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:934,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:933,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 flex flex-col perps-chart-col",style:{minHeight:0},children:[e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-2 border-b border-white/[0.06] shrink-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("img",{src:"/oritordcmc.png",alt:"TORD",className:"rounded-full",style:{width:24,height:24}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1035,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-bold text-white",children:"TORD"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1036,columnNumber:15},this),e.jsxDEV("span",{className:"text-[10px] text-white/40",children:"Perpetual"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1037,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1034,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-1 p-0.5 rounded-lg bg-white/[0.04] border border-white/[0.06]",children:[e.jsxDEV("button",{className:`px-3 py-1 text-[11px] font-semibold rounded-md transition-all ${ye==="price"?"bg-white/[0.1] text-white":"text-white/40 hover:text-white/60"}`,onClick:()=>ms("price"),children:"Price"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1040,columnNumber:15},this),e.jsxDEV("button",{className:`px-3 py-1 text-[11px] font-semibold rounded-md transition-all ${ye==="chart"?"bg-amber-500/20 text-amber-400":"text-white/40 hover:text-white/60"}`,onClick:()=>ms("chart"),children:"Chart"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1046,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1039,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1033,columnNumber:11},this),e.jsxDEV("div",{className:"perps-mobile-stats flex-wrap items-center justify-center gap-x-4 gap-y-1 px-4 py-2",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:"H"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1057,columnNumber:15},this),e.jsxDEV("span",{className:"text-[11px] text-white/50 font-mono",children:m(W)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1058,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1056,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:"L"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1061,columnNumber:15},this),e.jsxDEV("span",{className:"text-[11px] text-white/50 font-mono",children:m(z)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1062,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1060,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:"Vol"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1065,columnNumber:15},this),e.jsxDEV("span",{className:"text-[11px] text-white/50",children:Pe(ge)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1066,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1064,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:"OI"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1069,columnNumber:15},this),e.jsxDEV("span",{className:"text-[11px] text-white/50",children:["$",fs.toFixed(0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1070,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1068,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:"Vault"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1073,columnNumber:15},this),e.jsxDEV("span",{className:"text-[11px] text-amber-400/70",children:["$",(_e*2).toFixed(0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1074,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1072,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1055,columnNumber:11},this),ye==="price"?e.jsxDEV("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-3",children:[e.jsxDEV("img",{src:"/perps.svg",alt:"TORD",className:"transition-transform duration-300 hover:scale-125 cursor-pointer h-[50px] md:h-[80px] mt-4 md:mt-0",style:{filter:"drop-shadow(0 0 12px rgba(255,215,0,0.3))"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1081,columnNumber:17},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:`text-4xl font-bold font-mono tracking-tight ${Ke==="up"?"price-flash-up":Ke==="down"?"price-flash-down":"text-white"}`,children:m(h)},h,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1083,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center justify-center gap-1 mt-2",children:["1H","6H","24H"].map(s=>{const n=s==="1H"?_s:s==="6H"?Gs:ee,r=Js===s;return e.jsxDEV("button",{onClick:()=>Ks(s),className:`px-2.5 py-1 rounded-md text-[11px] font-semibold transition-all ${r?n>=0?"bg-green-500/15 text-green-400":"bg-red-500/15 text-red-400":"text-white/30 hover:text-white/50"}`,children:r?`${n>=0?"+":""}${n.toFixed(2)}%`:s},s,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1094,columnNumber:25},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1089,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1082,columnNumber:17},this),e.jsxDEV("div",{className:"hidden md:flex items-center gap-6 mt-2",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-[10px] text-white/30 mb-0.5",children:"24h High"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1109,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-white/60 font-mono",children:m(W)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1110,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1108,columnNumber:19},this),e.jsxDEV("div",{className:"w-px h-6 bg-white/[0.06]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1112,columnNumber:19},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-[10px] text-white/30 mb-0.5",children:"24h Low"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1114,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-white/60 font-mono",children:m(z)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1115,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1113,columnNumber:19},this),e.jsxDEV("div",{className:"w-px h-6 bg-white/[0.06]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1117,columnNumber:19},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-[10px] text-white/30 mb-0.5",children:"Volume"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1119,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-white/60",children:Pe(ge)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1120,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1118,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1107,columnNumber:17},this),e.jsxDEV("div",{className:"text-center mt-1",children:[e.jsxDEV("p",{className:"text-[10px] text-white/30",children:"Oracle Price"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1124,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-amber-400 font-mono",children:m(le)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1125,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1123,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2 mt-2 px-3 py-1.5 rounded-full bg-white/[0.03] border border-white/[0.06]",children:[e.jsxDEV("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1128,columnNumber:19},this),e.jsxDEV("span",{className:"text-[10px] text-white/40",children:"Live Â· On-chain contracts"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1129,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1127,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1080,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1079,columnNumber:13},this):e.jsxDEV("div",{className:"flex-1 min-h-0 relative",style:{minHeight:"350px"},children:e.jsxDEV(Or,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1135,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1134,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1032,columnNumber:9},this),e.jsxDEV("div",{className:"perps-trade-col border-l border-white/[0.06] flex flex-col",children:[e.jsxDEV("div",{className:"flex border-b border-white/[0.06]",children:[e.jsxDEV("button",{className:`tab-btn ${I==="trade"?"active":""}`,onClick:()=>R("trade"),children:"Trade"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1145,columnNumber:13},this),e.jsxDEV("button",{className:`tab-btn ${I==="positions"?"active":""}`,onClick:()=>R("positions"),children:["Position",o?.isOpen&&e.jsxDEV("span",{className:"ml-1 text-[10px] px-1 py-0.5 rounded bg-amber-500/20 text-amber-400",children:"1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1147,columnNumber:44},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1146,columnNumber:13},this),e.jsxDEV("button",{className:`tab-btn ${I==="history"?"active":""}`,onClick:()=>R("history"),children:"History"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1149,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1144,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto perps-scrollbar p-3",children:[I==="trade"&&e.jsxDEV("div",{className:"space-y-3",children:[o?.isOpen&&e.jsxDEV("div",{className:"p-2 rounded-lg bg-amber-500/10 border border-amber-500/20 text-center",children:e.jsxDEV("p",{className:"text-[11px] text-amber-400",children:["You have an open ",o.isLong?"LONG":"SHORT"," position. Close it before opening a new one."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1158,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1157,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{className:`side-btn side-long ${k==="LONG"?"active":""}`,onClick:()=>$e("LONG"),children:"Long"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1163,columnNumber:19},this),e.jsxDEV("button",{className:`side-btn side-short ${k==="SHORT"?"active":""}`,onClick:()=>$e("SHORT"),children:"Short"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1164,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1162,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-1 p-0.5 rounded-lg bg-white/[0.04] border border-white/[0.06]",children:[e.jsxDEV("button",{className:`flex-1 py-1.5 text-[11px] font-semibold rounded-md transition-all ${j==="market"?"bg-white/[0.1] text-white":"text-white/40 hover:text-white/60"}`,onClick:()=>{Ae("market"),U("")},children:"Market"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1168,columnNumber:19},this),e.jsxDEV("button",{className:`flex-1 py-1.5 text-[11px] font-semibold rounded-md transition-all ${j==="limit"?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-white/40 hover:text-white/60"}`,onClick:()=>{Ae("limit"),U(h>0?h.toFixed(10):"")},children:"Limit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1174,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1167,columnNumber:17},this),j==="limit"&&e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxDEV("span",{className:"text-[11px] text-white/50",children:"Limit Price"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1185,columnNumber:23},this),e.jsxDEV("button",{className:"text-[10px] text-amber-400 hover:text-amber-300",onClick:()=>U(h>0?h.toFixed(10):""),children:"Mark"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1186,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1184,columnNumber:21},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",className:"perps-input pr-8",placeholder:"0.00000000",value:Re,onChange:s=>U(s.target.value)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1189,columnNumber:23},this),e.jsxDEV("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-amber-400/50",children:"$"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1196,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1188,columnNumber:21},this),e.jsxDEV("p",{className:"text-[10px] text-white/20 mt-1",children:k==="LONG"?"Order fills when price drops to limit":"Order fills when price rises to limit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1198,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1183,columnNumber:19},this),E&&e.jsxDEV("div",{className:"p-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1208,columnNumber:25},this),e.jsxDEV("span",{className:"text-[11px] text-amber-400 font-medium",children:["Limit ",E.side," @ ",m(E.limitPrice)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1209,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1207,columnNumber:23},this),e.jsxDEV("button",{className:"text-[10px] text-red-400 hover:text-red-300",onClick:()=>{ae(null),i("Limit order cancelled"),setTimeout(()=>i(null),2e3)},children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1213,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1206,columnNumber:21},this),e.jsxDEV("p",{className:"text-[10px] text-white/30 mt-1",children:["$",E.collateral," @ ",E.leverage,"x Â· Watching price..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1220,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1205,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxDEV("span",{className:"text-[11px] text-white/50",children:"Leverage"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1228,columnNumber:21},this),e.jsxDEV("span",{className:"text-[11px] font-semibold text-amber-400",children:[D,"x"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1229,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1227,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-2",children:Pr.filter(s=>s<=Ze).map(s=>e.jsxDEV("button",{className:`lev-btn ${D===s?"active":""}`,onClick:()=>Ps(s),children:[s,"x"]},s,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1233,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1231,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1226,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxDEV("span",{className:"text-[11px] text-white/50",children:"Collateral (USDT)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1242,columnNumber:21},this),e.jsxDEV("span",{className:"text-[11px] text-white/30",children:["Bal: $",N.toFixed(2)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1243,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1241,columnNumber:19},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",className:"perps-input pr-16",placeholder:"0.00",value:Ue,onChange:s=>K(s.target.value),step:"1",min:"0",max:M},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1246,columnNumber:21},this),e.jsxDEV("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-white/30 font-medium",children:"USDT"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1256,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1245,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-2 mt-2",children:[5,10,20,30].filter(s=>s<=M).map(s=>e.jsxDEV("button",{onClick:()=>K(s.toString()),className:"flex-1 py-1.5 text-[11px] font-medium rounded-lg bg-white/[0.04] text-white/50 hover:text-white/80 hover:bg-white/[0.08] transition-all",children:["$",s]},s,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1260,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1258,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1240,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("button",{className:"flex items-center justify-between w-full mb-1.5",onClick:()=>Cs(!be),children:[e.jsxDEV("span",{className:"text-[11px] text-white/50",children:"TP / SL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1274,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"text-[10px] text-white/25",children:"Optional"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1276,columnNumber:23},this),e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-3 w-3 text-white/30 transition-transform ${be?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1277,columnNumber:206},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1277,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1275,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1273,columnNumber:19},this),be&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",className:"perps-input pr-8 text-xs",placeholder:"Take Profit",value:We,onChange:s=>he(s.target.value),style:{padding:"8px 10px",fontSize:"12px"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1283,columnNumber:23},this),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[10px] text-green-400/50",children:"TP"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1291,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1282,columnNumber:21},this),e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",className:"perps-input pr-8 text-xs",placeholder:"Stop Loss",value:ze,onChange:s=>Ne(s.target.value),style:{padding:"8px 10px",fontSize:"12px"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1294,columnNumber:23},this),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[10px] text-red-400/50",children:"SL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1302,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1293,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1281,columnNumber:19},this),e.jsxDEV("p",{className:"text-[10px] text-white/20 mt-1.5",children:k==="LONG"?"TP above entry, SL below entry (above liq)":"TP below entry, SL above entry (below liq)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1305,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1280,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1272,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1.5 py-2 border-t border-white/[0.06]",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"stat-label",children:"Position Size"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1314,columnNumber:21},this),e.jsxDEV("span",{className:"stat-value",children:["$",H.toFixed(2)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1315,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1313,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"stat-label",children:"Entry Price (est.)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1318,columnNumber:21},this),e.jsxDEV("span",{className:"stat-value",children:j==="limit"&&C>0?m(C):m(le)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1319,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1317,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"stat-label",children:"Liq. Price (est.)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1322,columnNumber:21},this),e.jsxDEV("span",{className:"text-xs text-red-400 font-medium",children:f>0&&oe>0?m(ar):"â€”"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1323,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1321,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"stat-label",children:["Fee (",(ne/100).toFixed(1),"%)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1326,columnNumber:21},this),e.jsxDEV("span",{className:"stat-value",children:["$",(H*ne/1e4).toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1327,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1325,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"stat-label",children:"Total Cost (est.)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1330,columnNumber:21},this),e.jsxDEV("span",{className:"stat-value text-amber-400",children:["$",(f+_).toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1331,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1329,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1312,columnNumber:17},this),a?e.jsxDEV("button",{className:`exec-btn ${k==="LONG"?"long":"short"}`,onClick:or,disabled:Je||f<=0||f>M||o?.isOpen||te||j==="market"&&N<f+_||j==="limit"&&(C<=0||N<f+_)||!!E,children:Je?e.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1344,columnNumber:83},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1344,columnNumber:189},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1344,columnNumber:25},this),j==="limit"?"Placing...":"Opening..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1343,columnNumber:23},this):te?"Trading Paused":o?.isOpen?"Position Already Open":E?"Limit Order Active":j==="limit"?`Place Limit ${k} $${H.toFixed(2)} @ ${D}x`:`${k} $${H.toFixed(2)} @ ${D}x`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1337,columnNumber:19},this):e.jsxDEV("button",{className:"exec-btn",style:{background:"rgba(245,166,35,0.15)",color:"#f5a623"},onClick:()=>S(!0),children:"Connect Wallet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1354,columnNumber:19},this),N>0&&N<f+_&&f>0&&e.jsxDEV("p",{className:"text-[11px] text-red-400/70 text-center",children:["Insufficient vault balance (need $",(f+_).toFixed(2),")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1364,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1155,columnNumber:15},this),I==="positions"&&e.jsxDEV("div",{className:"space-y-3",children:o?.isOpen?e.jsxDEV("div",{className:"pos-card space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:`text-xs font-bold ${o.isLong?"text-green-400":"text-red-400"}`,children:o.isLong?"LONG":"SHORT"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1375,columnNumber:25},this),e.jsxDEV("span",{className:"text-[10px] text-white/40",children:[Number(o.size/o.collateral),"x"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1378,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1374,columnNumber:23},this),e.jsxDEV("span",{className:`text-sm font-bold font-mono ${B>=0?"text-green-400":"text-red-400"}`,children:[B>=0?"+":"",B.toFixed(4)," USDT"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1380,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1373,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-y-1.5",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"stat-label",children:"Collateral"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1387,columnNumber:25},this),e.jsxDEV("p",{className:"stat-value",children:["$",c(o.collateral).toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1388,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1386,columnNumber:23},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"stat-label",children:"Size"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1391,columnNumber:25},this),e.jsxDEV("p",{className:"stat-value",children:["$",c(o.size).toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1392,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1390,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"stat-label",children:"Entry Price"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1395,columnNumber:25},this),e.jsxDEV("p",{className:"stat-value",children:m(ds)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1396,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1394,columnNumber:23},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"stat-label",children:"Mark Price"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1399,columnNumber:25},this),e.jsxDEV("p",{className:"stat-value",children:m(le)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1400,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1398,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"stat-label",children:"Liq. Price"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1403,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-red-400",children:m(c(o.liquidationPrice))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1404,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1402,columnNumber:23},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"stat-label",children:"PnL %"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1407,columnNumber:25},this),e.jsxDEV("p",{className:`text-xs font-medium ${B>=0?"text-green-400":"text-red-400"}`,children:[c(o.collateral)>0?(B/c(o.collateral)*100).toFixed(2):"0.00","%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1408,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1406,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1385,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-3 py-1 border-t border-white/[0.04]",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:"TP: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1417,columnNumber:25},this),e.jsxDEV("span",{className:"text-[11px] text-green-400/70",children:c(o.takeProfitPrice)>0?m(c(o.takeProfitPrice)):"â€”"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1418,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1416,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1 text-right",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:"SL: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1421,columnNumber:25},this),e.jsxDEV("span",{className:"text-[11px] text-red-400/70",children:c(o.stopLossPrice)>0?m(c(o.stopLossPrice)):"â€”"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1422,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1420,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1415,columnNumber:21},this),e.jsxDEV("button",{className:"w-full py-1.5 text-[10px] text-white/40 hover:text-white/60 transition-colors",onClick:()=>{cs(!ie),ie||(as(c(o.takeProfitPrice)>0?c(o.takeProfitPrice).toString():""),os(c(o.stopLossPrice)>0?c(o.stopLossPrice).toString():""))},children:ie?"Cancel Edit":"Edit TP/SL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1427,columnNumber:21},this),ie&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",className:"perps-input pr-8 text-xs",placeholder:"Take Profit",value:is,onChange:s=>as(s.target.value),style:{padding:"8px 10px",fontSize:"12px"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1444,columnNumber:29},this),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[10px] text-green-400/50",children:"TP"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1445,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1443,columnNumber:27},this),e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",className:"perps-input pr-8 text-xs",placeholder:"Stop Loss",value:ls,onChange:s=>os(s.target.value),style:{padding:"8px 10px",fontSize:"12px"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1448,columnNumber:29},this),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[10px] text-red-400/50",children:"SL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1449,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1447,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1442,columnNumber:25},this),e.jsxDEV("button",{className:"w-full py-2 rounded-lg text-xs font-bold bg-amber-500/20 text-amber-400 hover:bg-amber-500/30 transition-all",onClick:pr,disabled:ts,children:ts?"Updating...":"Update TP/SL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1452,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1441,columnNumber:23},this),e.jsxDEV("button",{className:"w-full py-2.5 rounded-lg text-xs font-bold transition-all bg-red-500/20 text-red-400 hover:bg-red-500/30 border border-red-500/20",onClick:mr,disabled:ss,children:ss?e.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-3.5 w-3.5",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1469,columnNumber:89},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1469,columnNumber:195},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1469,columnNumber:27},this),"Closing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1468,columnNumber:25},this):"Close Position"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1462,columnNumber:21},this),e.jsxDEV("p",{className:"text-[10px] text-white/20 text-center",children:["Opened ",new Date(Number(o.openTime)*1e3).toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1475,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1372,columnNumber:19},this):e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV("p",{className:"text-sm text-white/30 mb-2",children:"No open position"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1481,columnNumber:21},this),e.jsxDEV("p",{className:"text-[10px] text-white/20",children:"Open a trade to see your position here"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1482,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1480,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1370,columnNumber:15},this),I==="history"&&e.jsxDEV("div",{className:"space-y-2",children:Ye.length===0?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV("p",{className:"text-sm text-white/30 mb-2",children:"No trade history"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1492,columnNumber:21},this),e.jsxDEV("p",{className:"text-[10px] text-white/20",children:"Your closed trades will appear here"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1493,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1491,columnNumber:19},this):Ye.map((s,n)=>e.jsxDEV("div",{className:"pos-card",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:`text-xs font-bold ${s.side==="LONG"?"text-green-400":"text-red-400"}`,children:s.side},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1499,columnNumber:25},this),e.jsxDEV("span",{className:"text-[10px] text-white/40",children:["$",s.size?.toFixed(2)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1500,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1498,columnNumber:23},this),e.jsxDEV("span",{className:`text-xs font-bold ${s.pnl>=0?"text-green-400":"text-red-400"}`,children:[s.pnl>=0?"+":"",s.pnl?.toFixed(4)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1502,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1497,columnNumber:21},this),e.jsxDEV("div",{className:"flex justify-between mt-1",children:[e.jsxDEV("span",{className:"text-[10px] text-white/30",children:["Entry: ",m(s.entryPrice)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1507,columnNumber:23},this),e.jsxDEV("span",{className:"text-[10px] text-white/30",children:["Close: ",m(s.closePrice)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1508,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1506,columnNumber:21},this),e.jsxDEV("p",{className:"text-[9px] text-white/20 mt-1",children:new Date(s.closedAt).toLocaleString()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1510,columnNumber:21},this)]},n,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1496,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1489,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1152,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1141,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:892,columnNumber:7},this),e.jsxDEV(vr,{isOpen:ys,onClose:()=>S(!1),onConnect:ur},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1519,columnNumber:7},this),e.jsxDEV(Er,{pendingWallet:A,currentWallet:a,onApprove:js,onReject:Vs},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1520,columnNumber:7},this),e.jsxDEV(kr,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:1521,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/perps.tsx",lineNumber:722,columnNumber:5},this)}export{Wr as default};
